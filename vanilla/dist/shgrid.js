function t(){}const e=t=>t;function n(t){return t()}function r(){return Object.create(null)}function o(t){t.forEach(n)}function i(t){return"function"==typeof t}function s(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function l(e){return e&&i(e.destroy)?e.destroy:t}const d="undefined"!=typeof window;let a=d?()=>window.performance.now():()=>Date.now(),c=d?t=>requestAnimationFrame(t):t;const u=new Set;function g(t){u.forEach((e=>{e.c(t)||(u.delete(e),e.f())})),0!==u.size&&c(g)}function p(t,e){t.appendChild(e)}function f(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function h(t){const e=y("style");return function(t,e){p(t.head||t,e),e.sheet}(f(t),e),e.sheet}function m(t,e,n){t.insertBefore(e,n||null)}function v(t){t.parentNode&&t.parentNode.removeChild(t)}function b(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function y(t){return document.createElement(t)}function w(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function E(t){return document.createTextNode(t)}function $(){return E(" ")}function _(){return E("")}function D(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function x(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function O(t,e){e=""+e,t.data!==e&&(t.data=e)}function T(t,e,n){for(let n=0;n<t.options.length;n+=1){const r=t.options[n];if(r.__value===e)return void(r.selected=!0)}n&&void 0===e||(t.selectedIndex=-1)}function k(t,e,n){t.classList[n?"add":"remove"](e)}const L=new Map;let H,A=0;function C(t,e,n,r,o,i,s,l=0){const d=16.666/r;let a="{\n";for(let t=0;t<=1;t+=d){const r=e+(n-e)*i(t);a+=100*t+`%{${s(r,1-r)}}\n`}const c=a+`100% {${s(n,1-n)}}\n}`,u=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(c)}_${l}`,g=f(t),{stylesheet:p,rules:m}=L.get(g)||function(t,e){const n={stylesheet:h(e),rules:{}};return L.set(t,n),n}(g,t);m[u]||(m[u]=!0,p.insertRule(`@keyframes ${u} ${c}`,p.cssRules.length));const v=t.style.animation||"";return t.style.animation=`${v?`${v}, `:""}${u} ${r}ms linear ${o}ms 1 both`,A+=1,u}function M(t,e){const n=(t.style.animation||"").split(", "),r=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),o=n.length-r.length;o&&(t.style.animation=r.join(", "),A-=o,A||c((()=>{A||(L.forEach((t=>{const{ownerNode:e}=t.stylesheet;e&&v(e)})),L.clear())})))}function S(n,r,o,i){if(!r)return t;const s=n.getBoundingClientRect();if(r.left===s.left&&r.right===s.right&&r.top===s.top&&r.bottom===s.bottom)return t;const{delay:l=0,duration:d=300,easing:p=e,start:f=a()+l,end:h=f+d,tick:m=t,css:v}=o(n,{from:r,to:s},i);let b,y=!0,w=!1;function E(){v&&M(n,b),y=!1}return function(t){let e;0===u.size&&c(g),new Promise((n=>{u.add(e={c:t,f:n})}))}((t=>{if(!w&&t>=f&&(w=!0),w&&t>=h&&(m(1,0),E()),!y)return!1;if(w){const e=0+1*p((t-f)/d);m(e,1-e)}return!0})),v&&(b=C(n,0,1,d,l,p,v)),l||(w=!0),m(0,1),E}function V(t){const e=getComputedStyle(t);if("absolute"!==e.position&&"fixed"!==e.position){const{width:n,height:r}=e,o=t.getBoundingClientRect();t.style.position="absolute",t.style.width=n,t.style.height=r,function(t,e){const n=t.getBoundingClientRect();if(e.left!==n.left||e.top!==n.top){const r=getComputedStyle(t),o="none"===r.transform?"":r.transform;t.style.transform=`${o} translate(${e.left-n.left}px, ${e.top-n.top}px)`}}(t,o)}}function N(t){H=t}function R(){if(!H)throw new Error("Function called outside component initialization");return H}function I(){const t=R();return(e,n,{cancelable:r=!1}={})=>{const o=t.$$.callbacks[e];if(o){const i=function(t,e,{bubbles:n=!1,cancelable:r=!1}={}){const o=document.createEvent("CustomEvent");return o.initCustomEvent(t,n,r,e),o}(e,n,{cancelable:r});return o.slice().forEach((e=>{e.call(t,i)})),!i.defaultPrevented}return!0}}const P=[],F=[];let B=[];const z=[],G=Promise.resolve();let j=!1;function U(t){B.push(t)}const W=new Set;let Y=0;function Z(){if(0!==Y)return;const t=H;do{try{for(;Y<P.length;){const t=P[Y];Y++,N(t),q(t.$$)}}catch(t){throw P.length=0,Y=0,t}for(N(null),P.length=0,Y=0;F.length;)F.pop()();for(let t=0;t<B.length;t+=1){const e=B[t];W.has(e)||(W.add(e),e())}B.length=0}while(P.length);for(;z.length;)z.pop()();j=!1,W.clear(),N(t)}function q(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(U)}}const X=new Set;let K;function J(){K={r:0,c:[],p:K}}function Q(){K.r||o(K.c),K=K.p}function tt(t,e){t&&t.i&&(X.delete(t),t.i(e))}function et(t,e,n,r){if(t&&t.o){if(X.has(t))return;X.add(t),K.c.push((()=>{X.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}else r&&r()}function nt(t,e){t.f(),function(t,e){et(t,1,1,(()=>{e.delete(t.key)}))}(t,e)}function rt(t,e,n,r,i,s,l,d,a,c,u,g){let p=t.length,f=s.length,h=p;const m={};for(;h--;)m[t[h].key]=h;const v=[],b=new Map,y=new Map,w=[];for(h=f;h--;){const t=g(i,s,h),o=n(t);let d=l.get(o);d?r&&w.push((()=>d.p(t,e))):(d=c(o,t),d.c()),b.set(o,v[h]=d),o in m&&y.set(o,Math.abs(h-m[o]))}const E=new Set,$=new Set;function _(t){tt(t,1),t.m(d,u),l.set(t.key,t),u=t.first,f--}for(;p&&f;){const e=v[f-1],n=t[p-1],r=e.key,o=n.key;e===n?(u=e.first,p--,f--):b.has(o)?!l.has(r)||E.has(r)?_(e):$.has(o)?p--:y.get(r)>y.get(o)?($.add(r),_(e)):(E.add(o),p--):(a(n,l),p--)}for(;p--;){const e=t[p];b.has(e.key)||a(e,l)}for(;f;)_(v[f-1]);return o(w),v}function ot(t){t&&t.c()}function it(t,e,r,s){const{fragment:l,after_update:d}=t.$$;l&&l.m(e,r),s||U((()=>{const e=t.$$.on_mount.map(n).filter(i);t.$$.on_destroy?t.$$.on_destroy.push(...e):o(e),t.$$.on_mount=[]})),d.forEach(U)}function st(t,e){const n=t.$$;null!==n.fragment&&(!function(t){const e=[],n=[];B.forEach((r=>-1===t.indexOf(r)?e.push(r):n.push(r))),n.forEach((t=>t())),B=e}(n.after_update),o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function lt(t,e){-1===t.$$.dirty[0]&&(P.push(t),j||(j=!0,G.then(Z)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function dt(e,n,i,s,l,d,a,c=[-1]){const u=H;N(e);const g=e.$$={fragment:null,ctx:[],props:d,update:t,not_equal:l,bound:r(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(u?u.$$.context:[])),callbacks:r(),dirty:c,skip_bound:!1,root:n.target||u.$$.root};a&&a(g.root);let p=!1;if(g.ctx=i?i(e,n.props||{},((t,n,...r)=>{const o=r.length?r[0]:n;return g.ctx&&l(g.ctx[t],g.ctx[t]=o)&&(!g.skip_bound&&g.bound[t]&&g.bound[t](o),p&&lt(e,t)),n})):[],g.update(),p=!0,o(g.before_update),g.fragment=!!s&&s(g.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);g.fragment&&g.fragment.l(t),t.forEach(v)}else g.fragment&&g.fragment.c();n.intro&&tt(e.$$.fragment),it(e,n.target,n.anchor,n.customElement),Z()}N(u)}class at{$destroy(){st(this,1),this.$destroy=t}$on(e,n){if(!i(n))return t;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const t=r.indexOf(n);-1!==t&&r.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function ct(e){let n;return{c(){n=y("div"),n.innerHTML='<div class="lds-roller"><div></div> \n\t\t<div></div> \n\t\t<div></div> \n\t\t<div></div> \n\t\t<div></div> \n\t\t<div></div> \n\t\t<div></div> \n\t\t<div></div></div>',x(n,"class","loading-wrapper")},m(t,e){m(t,n,e)},p:t,i:t,o:t,d(t){t&&v(n)}}}class ut extends at{constructor(t){super(),dt(this,t,null,ct,s,{})}}function gt(t){const e=t-1;return e*e*e+1}function pt(t,{from:e,to:n},r={}){const o=getComputedStyle(t),s="none"===o.transform?"":o.transform,[l,d]=o.transformOrigin.split(" ").map(parseFloat),a=e.left+e.width*l/n.width-(n.left+l),c=e.top+e.height*d/n.height-(n.top+d),{delay:u=0,duration:g=(t=>120*Math.sqrt(t)),easing:p=gt}=r;return{delay:u,duration:i(g)?g(Math.sqrt(a*a+c*c)):g,easing:p,css:(t,r)=>{const o=r*a,i=r*c,l=t+r*e.width/n.width,d=t+r*e.height/n.height;return`transform: ${s} translate(${o}px, ${i}px) scale(${l}, ${d});`}}}const ft="finalize",ht="consider";function mt(t,e,n){t.dispatchEvent(new CustomEvent(ft,{detail:{items:e,info:n}}))}function vt(t,e,n){t.dispatchEvent(new CustomEvent(ht,{detail:{items:e,info:n}}))}const bt="draggedEntered",yt="draggedLeft",wt="draggedOverIndex",Et="draggedLeftDocument",$t={LEFT_FOR_ANOTHER:"leftForAnother",OUTSIDE_OF_ANY:"outsideOfAny"};function _t(t,e,n){t.dispatchEvent(new CustomEvent(bt,{detail:{indexObj:e,draggedEl:n}}))}function Dt(t,e,n){t.dispatchEvent(new CustomEvent(yt,{detail:{draggedEl:e,type:$t.LEFT_FOR_ANOTHER,theOtherDz:n}}))}function xt(t,e,n){t.dispatchEvent(new CustomEvent(wt,{detail:{indexObj:e,draggedEl:n}}))}const Ot={DRAG_STARTED:"dragStarted",DRAGGED_ENTERED:bt,DRAGGED_ENTERED_ANOTHER:"dragEnteredAnother",DRAGGED_OVER_INDEX:wt,DRAGGED_LEFT:yt,DRAGGED_LEFT_ALL:"draggedLeftAll",DROPPED_INTO_ZONE:"droppedIntoZone",DROPPED_INTO_ANOTHER:"droppedIntoAnother",DROPPED_OUTSIDE_OF_ANY:"droppedOutsideOfAny",DRAG_STOPPED:"dragStopped"},Tt={POINTER:"pointer",KEYBOARD:"keyboard"},kt="isDndShadowItem",Lt="data-is-dnd-shadow-item-internal",Ht="data-is-dnd-shadow-item-hint",At="id:dnd-shadow-placeholder-0000",Ct="dnd-action-dragged-el";let Mt="id",St=0;function Vt(){St++}function Nt(){if(0===St)throw new Error("Bug! trying to decrement when there are no dropzones");St--}const Rt="undefined"==typeof window;function It(t){let e;const n=t.getBoundingClientRect(),r=getComputedStyle(t),o=r.transform;if(o){let i,s,l,d;if(o.startsWith("matrix3d("))e=o.slice(9,-1).split(/, /),i=+e[0],s=+e[5],l=+e[12],d=+e[13];else{if(!o.startsWith("matrix("))return n;e=o.slice(7,-1).split(/, /),i=+e[0],s=+e[3],l=+e[4],d=+e[5]}const a=r.transformOrigin,c=n.x-l-(1-i)*parseFloat(a),u=n.y-d-(1-s)*parseFloat(a.slice(a.indexOf(" ")+1)),g=i?n.width/i:t.offsetWidth,p=s?n.height/s:t.offsetHeight;return{x:c,y:u,width:g,height:p,top:u,right:c+g,bottom:u+p,left:c}}return n}function Pt(t){const e=It(t);return{top:e.top+window.scrollY,bottom:e.bottom+window.scrollY,left:e.left+window.scrollX,right:e.right+window.scrollX}}function Ft(t){const e=t.getBoundingClientRect();return{top:e.top+window.scrollY,bottom:e.bottom+window.scrollY,left:e.left+window.scrollX,right:e.right+window.scrollX}}function Bt(t){return{x:(t.left+t.right)/2,y:(t.top+t.bottom)/2}}function zt(t,e){return t.y<=e.bottom&&t.y>=e.top&&t.x>=e.left&&t.x<=e.right}function Gt(t){return Bt(Ft(t))}function jt(t,e){return zt(Gt(t),Pt(e))}function Ut(t,e){const n=Gt(t),r=Gt(e);return o=n,i=r,Math.sqrt(Math.pow(o.x-i.x,2)+Math.pow(o.y-i.y,2));var o,i}let Wt;function Yt(){Wt=new Map}function Zt(t){Wt.delete(t)}function qt(t,e){if(!jt(t,e))return null;const n=e.children;if(0===n.length)return{index:0,isProximityBased:!0};const r=function(t){const e=Array.from(t.children).findIndex((t=>t.getAttribute(Lt)));if(e>=0)return Wt.has(t)||Wt.set(t,new Map),Wt.get(t).set(e,Pt(t.children[e])),e}(e);for(let o=0;o<n.length;o++)if(jt(t,n[o])){const n=Wt.has(e)&&Wt.get(e).get(o);return n&&!zt(Gt(t),n)?{index:r,isProximityBased:!1}:{index:o,isProximityBased:!1}}let o,i=Number.MAX_VALUE;for(let e=0;e<n.length;e++){const r=Ut(t,n[e]);r<i&&(i=r,o=e)}return{index:o,isProximityBased:!0}}Yt();function Xt(){let t;function e(){t={directionObj:void 0,stepPx:0}}function n(e){const{directionObj:r,stepPx:o}=t;r&&(e.scrollBy(r.x*o,r.y*o),window.requestAnimationFrame((()=>n(e))))}function r(t){return 25-t}return e(),{scrollIfNeeded:function(o,i){if(!i)return!1;const s=function(t,e){const n=Ft(e);return zt(t,n)?{top:t.y-n.top,bottom:n.bottom-t.y,left:t.x-n.left,right:Math.min(n.right,document.documentElement.clientWidth)-t.x}:null}(o,i);if(null===s)return e(),!1;const l=!!t.directionObj;let[d,a]=[!1,!1];return i.scrollHeight>i.clientHeight&&(s.bottom<25?(d=!0,t.directionObj={x:0,y:1},t.stepPx=r(s.bottom)):s.top<25&&(d=!0,t.directionObj={x:0,y:-1},t.stepPx=r(s.top)),!l&&d)||i.scrollWidth>i.clientWidth&&(s.right<25?(a=!0,t.directionObj={x:1,y:0},t.stepPx=r(s.right)):s.left<25&&(a=!0,t.directionObj={x:-1,y:0},t.stepPx=r(s.left)),!l&&a)?(n(i),!0):(e(),!1)},resetScrolling:e}}function Kt(t){return JSON.stringify(t,null,2)}function Jt(t){if(!t)throw new Error("cannot get depth of a falsy node");return Qt(t,0)}function Qt(t,e=0){return t.parentElement?Qt(t.parentElement,e+1):e-1}const te=200,ee=10,{scrollIfNeeded:ne,resetScrolling:re}=Xt();let oe;function ie(t,e,n=te){let r,o,i,s=!1;const l=Array.from(e).sort(((t,e)=>Jt(e)-Jt(t)));!function e(){const d=Gt(t),a=ne(d,r);if(!a&&i&&Math.abs(i.x-d.x)<ee&&Math.abs(i.y-d.y)<ee)return void(oe=window.setTimeout(e,n));if(function(t){const e=Ft(t);return e.right<0||e.left>document.documentElement.scrollWidth||e.bottom<0||e.top>document.documentElement.scrollHeight}(t))return void function(t){window.dispatchEvent(new CustomEvent(Et,{detail:{draggedEl:t}}))}(t);i=d;let c=!1;for(const e of l){a&&Zt(r);const n=qt(t,e);if(null===n)continue;const{index:i}=n;c=!0,e!==r?(r&&Dt(r,t,e),_t(e,n,t),r=e):i!==o&&(xt(e,n,t),o=i);break}!c&&s&&r?(!function(t,e){t.dispatchEvent(new CustomEvent(yt,{detail:{draggedEl:e,type:$t.OUTSIDE_OF_ANY}}))}(r,t),r=void 0,o=void 0,s=!1):s=!0,oe=window.setTimeout(e,n)}()}const se=300;let le;function de(t){const e=t.touches?t.touches[0]:t;le={x:e.clientX,y:e.clientY}}const{scrollIfNeeded:ae,resetScrolling:ce}=Xt();let ue;function ge(){if(le){ae(le,document.documentElement)&&Yt()}ue=window.setTimeout(ge,se)}const pe=Object.freeze({USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT:"USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT"}),fe={[pe.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT]:!1};function he(t){if(!pe[t])throw new Error(`Can't get non existing feature flag ${t}! Supported flags: ${Object.keys(pe)}`);return fe[t]}const me=.2;function ve(t){return`${t} ${me}s ease`}function be(t,e,n,r){ye(e,t);const o=e.getBoundingClientRect(),i=t.getBoundingClientRect(),s=o.width-i.width,l=o.height-i.height;if(s||l){const e={left:(n-i.left)/i.width,top:(r-i.top)/i.height};he(pe.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT)||(t.style.height=`${o.height}px`,t.style.width=`${o.width}px`),t.style.left=parseFloat(t.style.left)-e.left*s+"px",t.style.top=parseFloat(t.style.top)-e.top*l+"px"}}function ye(t,e){const n=window.getComputedStyle(t);Array.from(n).filter((t=>t.startsWith("background")||t.startsWith("padding")||t.startsWith("font")||t.startsWith("text")||t.startsWith("align")||t.startsWith("justify")||t.startsWith("display")||t.startsWith("flex")||t.startsWith("border")||"opacity"===t||"color"===t||"list-style-type"===t||he(pe.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT)&&("width"===t||"height"===t))).forEach((t=>e.style.setProperty(t,n.getPropertyValue(t),n.getPropertyPriority(t))))}function we(t,e){t.draggable=!1,t.ondragstart=()=>!1,e?(t.style.userSelect="",t.style.WebkitUserSelect="",t.style.cursor=""):(t.style.userSelect="none",t.style.WebkitUserSelect="none",t.style.cursor="grab")}function Ee(t){t.style.display="none",t.style.position="fixed",t.style.zIndex="-5"}function $e(t,e=(()=>{}),n=(()=>[])){t.forEach((t=>{const r=e(t);Object.keys(r).forEach((e=>{t.style[e]=r[e]})),n(t).forEach((e=>t.classList.add(e)))}))}function _e(t,e=(()=>{}),n=(()=>[])){t.forEach((t=>{const r=e(t);Object.keys(r).forEach((e=>{t.style[e]=""})),n(t).forEach((e=>t.classList.contains(e)&&t.classList.remove(e)))}))}const De="--any--",xe=100,Oe=20,Te=3,ke={outline:"rgba(255, 255, 102, 0.7) solid 2px"},Le="data-is-dnd-original-dragged-item";let He,Ae,Ce,Me,Se,Ve,Ne,Re,Ie,Pe,Fe,Be=!1,ze=!1,Ge=!1,je=[];const Ue=new Map,We=new Map,Ye=new WeakMap;function Ze(t,e){Ue.get(e).delete(t),Nt(),0===Ue.get(e).size&&Ue.delete(e)}function qe(){window.addEventListener("mousemove",de),window.addEventListener("touchmove",de),ge();const t=Ue.get(Me);for(const e of t)e.addEventListener(bt,Je),e.addEventListener(yt,Qe),e.addEventListener(wt,tn);window.addEventListener(Et,nn);const e=Math.max(...Array.from(t.keys()).map((t=>We.get(t).dropAnimationDurationMs))),n=0===e?Oe:Math.max(e,xe);ie(Ae,t,1.07*n)}function Xe(){window.removeEventListener("mousemove",de),window.removeEventListener("touchmove",de),le=void 0,window.clearTimeout(ue),ce();const t=Ue.get(Me);for(const e of t)e.removeEventListener(bt,Je),e.removeEventListener(yt,Qe),e.removeEventListener(wt,tn);window.removeEventListener(Et,nn),clearTimeout(oe),re(),Yt()}function Ke(t){return t.findIndex((t=>!!t[kt]))}function Je(t){let{items:e,dropFromOthersDisabled:n}=We.get(t.currentTarget);if(n&&t.currentTarget!==Se)return;if(Ge=!1,e=e.filter((t=>t[Mt]!==Ne[Mt])),Se!==t.currentTarget){const t=We.get(Se).items.filter((t=>!t[kt]));vt(Se,t,{trigger:Ot.DRAGGED_ENTERED_ANOTHER,id:Ce[Mt],source:Tt.POINTER})}const{index:r,isProximityBased:o}=t.detail.indexObj,i=o&&r===t.currentTarget.children.length-1?r+1:r;Re=t.currentTarget,e.splice(i,0,Ne),vt(t.currentTarget,e,{trigger:Ot.DRAGGED_ENTERED,id:Ce[Mt],source:Tt.POINTER})}function Qe(t){if(!Be)return;const{items:e,dropFromOthersDisabled:n}=We.get(t.currentTarget);if(n&&t.currentTarget!==Se&&t.currentTarget!==Re)return;const r=Ke(e);-1!==r&&e.splice(r,1),Re=void 0;const{type:o,theOtherDz:i}=t.detail;if(o===$t.OUTSIDE_OF_ANY||o===$t.LEFT_FOR_ANOTHER&&i!==Se&&We.get(i).dropFromOthersDisabled){Ge=!0,Re=Se;const t=We.get(Se).items;t.splice(Ve,0,Ne),vt(Se,t,{trigger:Ot.DRAGGED_LEFT_ALL,id:Ce[Mt],source:Tt.POINTER})}vt(t.currentTarget,e,{trigger:Ot.DRAGGED_LEFT,id:Ce[Mt],source:Tt.POINTER})}function tn(t){const{items:e,dropFromOthersDisabled:n}=We.get(t.currentTarget);if(n&&t.currentTarget!==Se)return;Ge=!1;const{index:r}=t.detail.indexObj,o=Ke(e);-1!==o&&e.splice(o,1),e.splice(r,0,Ne),vt(t.currentTarget,e,{trigger:Ot.DRAGGED_OVER_INDEX,id:Ce[Mt],source:Tt.POINTER})}function en(t){t.preventDefault();const e=t.touches?t.touches[0]:t;Pe={x:e.clientX,y:e.clientY},Ae.style.transform=`translate3d(${Pe.x-Ie.x}px, ${Pe.y-Ie.y}px, 0)`}function nn(){ze=!0,window.removeEventListener("mousemove",en),window.removeEventListener("touchmove",en),window.removeEventListener("mouseup",nn),window.removeEventListener("touchend",nn),Xe(),function(t){t.style.cursor="grab"}(Ae),Re||(Re=Se);let{items:t,type:e}=We.get(Re);_e(Ue.get(e),(t=>We.get(t).dropTargetStyle),(t=>We.get(t).dropTargetClasses));let n=Ke(t);-1===n&&(Re===Se?n=Ve:Re.children.length>0&&(n=Re.children.length-1)),t=t.map((t=>t[kt]?Ce:t)),-1!==n&&function(t,e){const n=It(Re.children[t]),r={x:n.left-parseFloat(Ae.style.left),y:n.top-parseFloat(Ae.style.top)},{dropAnimationDurationMs:o}=We.get(Re),i=`transform ${o}ms ease`;Ae.style.transition=Ae.style.transition?Ae.style.transition+","+i:i,Ae.style.transform=`translate3d(${r.x}px, ${r.y}px, 0)`,window.setTimeout(e,o)}(n,(function(){var e;Fe(),mt(Re,t,{trigger:Ge?Ot.DROPPED_OUTSIDE_OF_ANY:Ot.DROPPED_INTO_ZONE,id:Ce[Mt],source:Tt.POINTER}),Re!==Se&&mt(Se,We.get(Se).items,{trigger:Ot.DROPPED_INTO_ANOTHER,id:Ce[Mt],source:Tt.POINTER}),-1!==n&&((e=Re.children[n]).style.visibility="",e.removeAttribute(Lt)),function(){Ae.remove(),He.remove(),je.length&&(je.forEach((({dz:t,destroy:e})=>{e(),t.remove()})),je=[]);Ae=void 0,He=void 0,Ce=void 0,Me=void 0,Se=void 0,Ve=void 0,Ne=void 0,Re=void 0,Ie=void 0,Pe=void 0,Be=!1,ze=!1,Fe=void 0,Ge=!1}()}))}function rn(t,e){let n=!1;const r={items:void 0,type:void 0,flipDurationMs:0,dragDisabled:!1,morphDisabled:!1,dropFromOthersDisabled:!1,dropTargetStyle:ke,dropTargetClasses:[],transformDraggedElement:()=>{},centreDraggedOnCursor:!1};let o=new Map;function i(){window.removeEventListener("mousemove",l),window.removeEventListener("touchmove",l),window.removeEventListener("mouseup",s),window.removeEventListener("touchend",s)}function s(){i(),He=void 0,Ie=void 0,Pe=void 0}function l(t){t.preventDefault();const e=t.touches?t.touches[0]:t;Pe={x:e.clientX,y:e.clientY},(Math.abs(Pe.x-Ie.x)>=Te||Math.abs(Pe.y-Ie.y)>=Te)&&(i(),function(){Be=!0;const t=o.get(He);Ve=t,Se=He.parentElement;const e=Se.closest("dialog")||Se.getRootNode(),n=e.body||e,{items:i,type:s,centreDraggedOnCursor:l}=r;function d(){Ae.parentElement?window.requestAnimationFrame(d):(n.appendChild(Ae),Ae.focus(),qe(),Ee(He),n.appendChild(He))}Ce=i[t],Me=s,Ne=function(t){return{...t,[kt]:!0,[Mt]:At}}(Ce),Ae=function(t,e){const n=t.getBoundingClientRect(),r=function(t){const e=t.cloneNode(!0),n=[],r="SELECT"===t.tagName,o=r?[t]:[...t.querySelectorAll("select")];for(const t of o)n.push(t.value);if(o.length>0){const t=r?[e]:[...e.querySelectorAll("select")];for(let e=0;e<t.length;e++){const r=t[e],o=n[e],i=r.querySelector(`option[value="${o}"`);i&&i.setAttribute("selected",!0)}}const i="CANVAS"===t.tagName,s=i?[t]:[...t.querySelectorAll("canvas")];if(s.length>0){const t=i?[e]:[...e.querySelectorAll("canvas")];for(let e=0;e<t.length;e++){const n=s[e],r=t[e];r.width=n.width,r.height=n.height,r.getContext("2d").drawImage(n,0,0)}}return e}(t);ye(t,r),r.id=Ct,r.style.position="fixed";let o=n.top,i=n.left;if(r.style.top=`${o}px`,r.style.left=`${i}px`,e){const t=Bt(n);o-=t.y-e.y,i-=t.x-e.x,window.setTimeout((()=>{r.style.top=`${o}px`,r.style.left=`${i}px`}),0)}return r.style.margin="0",r.style.boxSizing="border-box",r.style.height=`${n.height}px`,r.style.width=`${n.width}px`,r.style.transition=`${ve("top")}, ${ve("left")}, ${ve("background-color")}, ${ve("opacity")}, ${ve("color")} `,window.setTimeout((()=>r.style.transition+=`, ${ve("width")}, ${ve("height")}`),0),r.style.zIndex="9999",r.style.cursor="grabbing",r}(He,l&&Pe),He.setAttribute(Le,!0),window.requestAnimationFrame(d),$e(Array.from(Ue.get(r.type)).filter((t=>t===Se||!We.get(t).dropFromOthersDisabled)),(t=>We.get(t).dropTargetStyle),(t=>We.get(t).dropTargetClasses)),i.splice(t,1,Ne),Fe=function(t){const e=t.style.minHeight;t.style.minHeight=window.getComputedStyle(t).getPropertyValue("height");const n=t.style.minWidth;return t.style.minWidth=window.getComputedStyle(t).getPropertyValue("width"),function(){t.style.minHeight=e,t.style.minWidth=n}}(Se),vt(Se,i,{trigger:Ot.DRAG_STARTED,id:Ce[Mt],source:Tt.POINTER}),window.addEventListener("mousemove",en,{passive:!1}),window.addEventListener("touchmove",en,{passive:!1,capture:!1}),window.addEventListener("mouseup",nn,{passive:!1}),window.addEventListener("touchend",nn,{passive:!1})}())}function d(t){if(t.target!==t.currentTarget&&(void 0!==t.target.value||t.target.isContentEditable))return;if(t.button)return;if(Be)return;t.stopPropagation();const e=t.touches?t.touches[0]:t;Ie={x:e.clientX,y:e.clientY},Pe={...Ie},He=t.currentTarget,window.addEventListener("mousemove",l,{passive:!1}),window.addEventListener("touchmove",l,{passive:!1,capture:!1}),window.addEventListener("mouseup",s,{passive:!1}),window.addEventListener("touchend",s,{passive:!1})}function a({items:e,flipDurationMs:i=0,type:s=De,dragDisabled:l=!1,morphDisabled:a=!1,dropFromOthersDisabled:c=!1,dropTargetStyle:u=ke,dropTargetClasses:g=[],transformDraggedElement:p=(()=>{}),centreDraggedOnCursor:f=!1}){function h(t,e){return We.get(t)?We.get(t)[e]:r[e]}var m,v;r.dropAnimationDurationMs=i,r.type&&s!==r.type&&Ze(t,r.type),r.type=s,r.items=[...e],r.dragDisabled=l,r.morphDisabled=a,r.transformDraggedElement=p,r.centreDraggedOnCursor=f,!n||!Be||ze||function(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!{}.hasOwnProperty.call(e,n)||e[n]!==t[n])return!1;return!0}(u,r.dropTargetStyle)&&function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}(g,r.dropTargetClasses)||(_e([t],(()=>r.dropTargetStyle),(()=>g)),$e([t],(()=>u),(()=>g))),r.dropTargetStyle=u,r.dropTargetClasses=[...g],n&&Be&&r.dropFromOthersDisabled!==c&&(c?_e([t],(t=>h(t,"dropTargetStyle")),(t=>h(t,"dropTargetClasses"))):$e([t],(t=>h(t,"dropTargetStyle")),(t=>h(t,"dropTargetClasses")))),r.dropFromOthersDisabled=c,We.set(t,r),m=t,v=s,Ue.has(v)||Ue.set(v,new Set),Ue.get(v).has(m)||(Ue.get(v).add(m),Vt());const b=Ke(r.items);for(let e=0;e<t.children.length;e++){const i=t.children[e];we(i,l),e!==b?(i.removeEventListener("mousedown",Ye.get(i)),i.removeEventListener("touchstart",Ye.get(i)),l||(i.addEventListener("mousedown",d),i.addEventListener("touchstart",d),Ye.set(i,d)),o.set(i,e),n||(n=!0)):(r.transformDraggedElement(Ae,Ce,e),a||be(Ae,i,Pe.x,Pe.y),(y=i).style.visibility="hidden",y.setAttribute(Lt,"true"))}var y}return a(e),{update:t=>{a(t)},destroy:()=>{function e(){Ze(t,We.get(t).type),We.delete(t)}var n,r;Be&&!t.closest(`[${Le}]`)?(n=t,r=e,je.push({dz:n,destroy:r}),window.requestAnimationFrame((()=>{Ee(n),document.body.appendChild(n)}))):e()}}}const on={DND_ZONE_ACTIVE:"dnd-zone-active",DND_ZONE_DRAG_DISABLED:"dnd-zone-drag-disabled"},sn={[on.DND_ZONE_ACTIVE]:"Tab to one the items and press space-bar or enter to start dragging it",[on.DND_ZONE_DRAG_DISABLED]:"This is a disabled drag and drop list"},ln="dnd-action-aria-alert";let dn;function an(){dn||(dn=document.createElement("div"),dn.id=ln,dn.style.position="fixed",dn.style.bottom="0",dn.style.left="0",dn.style.zIndex="-5",dn.style.opacity="0",dn.style.height="0",dn.style.width="0",dn.setAttribute("role","alert"),document.body.prepend(dn),Object.entries(sn).forEach((([t,e])=>document.body.prepend(function(t,e){const n=document.createElement("div");return n.id=t,n.innerHTML=`<p>${e}</p>`,n.style.display="none",n.style.position="fixed",n.style.zIndex="-5",n}(t,e)))))}function cn(t){if(Rt)return;dn||an(),dn.innerHTML="";const e=document.createTextNode(t);dn.appendChild(e),dn.style.display="none",dn.style.display="inline"}const un="--any--",gn={outline:"rgba(255, 255, 102, 0.7) solid 2px"};let pn,fn,hn,mn,vn=!1,bn="",yn="";const wn=new WeakSet,En=new WeakMap,$n=new WeakMap,_n=new Map,Dn=new Map,xn=new Map;let On;function Tn(t,e){0===xn.size&&(On=Rt?null:("complete"===document.readyState?an():window.addEventListener("DOMContentLoaded",an),{...on}),window.addEventListener("keydown",Ln),window.addEventListener("click",Hn)),xn.has(e)||xn.set(e,new Set),xn.get(e).has(t)||(xn.get(e).add(t),Vt())}function kn(t,e){fn===t&&Mn(),xn.get(e).delete(t),Nt(),0===xn.get(e).size&&xn.delete(e),0===xn.size&&(window.removeEventListener("keydown",Ln),window.removeEventListener("click",Hn),On=void 0,!Rt&&dn&&(Object.keys(sn).forEach((t=>document.getElementById(t)?.remove())),dn.remove(),dn=void 0))}function Ln(t){if(vn&&"Escape"===t.key)Mn()}function Hn(){vn&&(wn.has(document.activeElement)||Mn())}function An(t){if(!vn)return;const e=t.currentTarget;if(e===fn)return;bn=e.getAttribute("aria-label")||"";const{items:n}=Dn.get(fn),r=n.find((t=>t[Mt]===mn)),o=n.indexOf(r),i=n.splice(o,1)[0],{items:s,autoAriaDisabled:l}=Dn.get(e);e.getBoundingClientRect().top<fn.getBoundingClientRect().top||e.getBoundingClientRect().left<fn.getBoundingClientRect().left?(s.push(i),l||cn(`Moved item ${yn} to the end of the list ${bn}`)):(s.unshift(i),l||cn(`Moved item ${yn} to the beginning of the list ${bn}`));mt(fn,n,{trigger:Ot.DROPPED_INTO_ANOTHER,id:mn,source:Tt.KEYBOARD}),mt(e,s,{trigger:Ot.DROPPED_INTO_ZONE,id:mn,source:Tt.KEYBOARD}),fn=e}function Cn(){_n.forEach((({update:t},e)=>t(Dn.get(e))))}function Mn(t=!0){Dn.get(fn).autoAriaDisabled||cn(`Stopped dragging item ${yn}`),wn.has(document.activeElement)&&document.activeElement.blur(),t&&vt(fn,Dn.get(fn).items,{trigger:Ot.DRAG_STOPPED,id:mn,source:Tt.KEYBOARD}),_e(xn.get(pn),(t=>Dn.get(t).dropTargetStyle),(t=>Dn.get(t).dropTargetClasses)),hn=null,mn=null,yn="",pn=null,fn=null,bn="",vn=!1,Cn()}function Sn(t,e){const n={items:void 0,type:void 0,dragDisabled:!1,zoneTabIndex:0,zoneItemTabIndex:0,dropFromOthersDisabled:!1,dropTargetStyle:gn,dropTargetClasses:[],autoAriaDisabled:!1};function r(t,e,n){t.length<=1||t.splice(n,1,t.splice(e,1,t[n])[0])}function o(e){switch(e.key){case"Enter":case" ":if((void 0!==e.target.disabled||e.target.href||e.target.isContentEditable)&&!wn.has(e.target))return;e.preventDefault(),e.stopPropagation(),vn?Mn():i(e);break;case"ArrowDown":case"ArrowRight":{if(!vn)return;e.preventDefault(),e.stopPropagation();const{items:o}=Dn.get(t),i=Array.from(t.children),s=i.indexOf(e.currentTarget);s<i.length-1&&(n.autoAriaDisabled||cn(`Moved item ${yn} to position ${s+2} in the list ${bn}`),r(o,s,s+1),mt(t,o,{trigger:Ot.DROPPED_INTO_ZONE,id:mn,source:Tt.KEYBOARD}));break}case"ArrowUp":case"ArrowLeft":{if(!vn)return;e.preventDefault(),e.stopPropagation();const{items:o}=Dn.get(t),i=Array.from(t.children).indexOf(e.currentTarget);i>0&&(n.autoAriaDisabled||cn(`Moved item ${yn} to position ${i} in the list ${bn}`),r(o,i,i-1),mt(t,o,{trigger:Ot.DROPPED_INTO_ZONE,id:mn,source:Tt.KEYBOARD}));break}}}function i(e){!function(e){const{items:r}=Dn.get(t),o=Array.from(t.children),i=o.indexOf(e);hn=e,hn.tabIndex=n.zoneItemTabIndex,mn=r[i][Mt],yn=o[i].getAttribute("aria-label")||""}(e.currentTarget),fn=t,pn=n.type,vn=!0;const r=Array.from(xn.get(n.type)).filter((t=>t===fn||!Dn.get(t).dropFromOthersDisabled));if($e(r,(t=>Dn.get(t).dropTargetStyle),(t=>Dn.get(t).dropTargetClasses)),!n.autoAriaDisabled){let t=`Started dragging item ${yn}. Use the arrow keys to move it within its list ${bn}`;r.length>1&&(t+=", or tab to another list in order to move the item into it"),cn(t)}vt(t,Dn.get(t).items,{trigger:Ot.DRAG_STARTED,id:mn,source:Tt.KEYBOARD}),Cn()}function s(t){vn&&t.currentTarget!==hn&&(t.stopPropagation(),Mn(!1),i(t))}function l({items:e=[],type:r=un,dragDisabled:i=!1,zoneTabIndex:l=0,zoneItemTabIndex:d=0,dropFromOthersDisabled:a=!1,dropTargetStyle:c=gn,dropTargetClasses:u=[],autoAriaDisabled:g=!1}){n.items=[...e],n.dragDisabled=i,n.dropFromOthersDisabled=a,n.zoneTabIndex=l,n.zoneItemTabIndex=d,n.dropTargetStyle=c,n.dropTargetClasses=u,n.autoAriaDisabled=g,n.type&&r!==n.type&&kn(t,n.type),n.type=r,Tn(t,r),g||(t.setAttribute("aria-disabled",i),t.setAttribute("role","list"),t.setAttribute("aria-describedby",i?On.DND_ZONE_DRAG_DISABLED:On.DND_ZONE_ACTIVE)),Dn.set(t,n),t.tabIndex=vn?t===fn||hn.contains(t)||n.dropFromOthersDisabled||fn&&n.type!==Dn.get(fn).type?-1:0:n.zoneTabIndex,t.addEventListener("focus",An);for(let e=0;e<t.children.length;e++){const r=t.children[e];wn.add(r),r.tabIndex=vn?-1:n.zoneItemTabIndex,g||r.setAttribute("role","listitem"),r.removeEventListener("keydown",En.get(r)),r.removeEventListener("click",$n.get(r)),i||(r.addEventListener("keydown",o),En.set(r,o),r.addEventListener("click",s),$n.set(r,s)),vn&&n.items[e][Mt]===mn&&(hn=r,hn.tabIndex=n.zoneItemTabIndex,r.focus())}}l(e);const d={update:t=>{l(t)},destroy:()=>{kn(t,n.type),Dn.delete(t),_n.delete(t)}};return _n.set(t,d),d}function Vn(t,e){if(function(t){return!!t.closest(`[${Ht}="true"]`)}(t))return{update:()=>{},destroy:()=>{}};Nn(e);const n=rn(t,e),r=Sn(t,e);return{update:t=>{Nn(t),n.update(t),r.update(t)},destroy:()=>{n.destroy(),r.destroy()}}}function Nn(t){const{items:e,flipDurationMs:n,type:r,dragDisabled:o,morphDisabled:i,dropFromOthersDisabled:s,zoneTabIndex:l,zoneItemTabIndex:d,dropTargetStyle:a,dropTargetClasses:c,transformDraggedElement:u,autoAriaDisabled:g,centreDraggedOnCursor:p,...f}=t;if(Object.keys(f).length>0&&console.warn("dndzone will ignore unknown options",f),!e)throw new Error("no 'items' key provided to dndzone");const h=e.find((t=>!{}.hasOwnProperty.call(t,Mt)));if(h)throw new Error(`missing '${Mt}' property for item ${Kt(h)}`);if(c&&!Array.isArray(c))throw new Error(`dropTargetClasses should be an array but instead it is a ${typeof c}, ${Kt(c)}`);if(l&&!Rn(l))throw new Error(`zoneTabIndex should be a number but instead it is a ${typeof l}, ${Kt(l)}`);if(d&&!Rn(d))throw new Error(`zoneItemTabIndex should be a number but instead it is a ${typeof d}, ${Kt(d)}`)}function Rn(t){return!isNaN(t)&&(0|(e=parseFloat(t)))===e;var e}function In(e){let n,r,o,i,s;return{c(){n=y("label"),r=y("input"),o=y("span"),x(r,"type","checkbox"),r.checked=e[0],x(r,"name",e[1]),x(r,"id",e[1]),x(n,"class","switch")},m(t,l){m(t,n,l),p(n,r),p(n,o),i||(s=D(r,"input",e[2]),i=!0)},p(t,[e]){1&e&&(r.checked=t[0]),2&e&&x(r,"name",t[1]),2&e&&x(r,"id",t[1])},i:t,o:t,d(t){t&&v(n),i=!1,s()}}}function Pn(t,e,n){let{value:r=!1}=e,{name:o}=e;const i=I();return t.$$set=t=>{"value"in t&&n(0,r=t.value),"name"in t&&n(1,o=t.name)},[r,o,function(){n(0,r=!r),i("input",{value:r})}]}class Fn extends at{constructor(t){super(),dt(this,t,Pn,In,s,{value:0,name:1})}}function Bn(t,e,n){const r=t.slice();return r[7]=e[n],r}function zn(t){let e,n;return{c(){e=y("p"),n=E(t[1])},m(t,r){m(t,e,r),p(e,n)},p(t,e){2&e&&O(n,t[1])},d(t){t&&v(e)}}}function Gn(t){let e,n,r,o,i=t[7].label+"";return{c(){e=y("option"),n=E(i),r=$(),e.__value=o=t[7].id,e.value=e.__value},m(t,o){m(t,e,o),p(e,n),p(e,r)},p(t,r){4&r&&i!==(i=t[7].label+"")&&O(n,i),4&r&&o!==(o=t[7].id)&&(e.__value=o,e.value=e.__value)},d(t){t&&v(e)}}}function jn(e){let n,r,o,i,s,l=e[1]&&zn(e),d=e[2],a=[];for(let t=0;t<d.length;t+=1)a[t]=Gn(Bn(e,d,t));return{c(){n=y("label"),l&&l.c(),r=$(),o=y("select");for(let t=0;t<a.length;t+=1)a[t].c();x(n,"class","shgrid-pkg_select-label")},m(t,d){m(t,n,d),l&&l.m(n,null),p(n,r),p(n,o);for(let t=0;t<a.length;t+=1)a[t]&&a[t].m(o,null);T(o,e[0]),i||(s=D(o,"input",e[4]),i=!0)},p(t,[e]){if(t[1]?l?l.p(t,e):(l=zn(t),l.c(),l.m(n,r)):l&&(l.d(1),l=null),4&e){let n;for(d=t[2],n=0;n<d.length;n+=1){const r=Bn(t,d,n);a[n]?a[n].p(r,e):(a[n]=Gn(r),a[n].c(),a[n].m(o,null))}for(;n<a.length;n+=1)a[n].d(1);a.length=d.length}5&e&&T(o,t[0])},i:t,o:t,d(t){t&&v(n),l&&l.d(),b(a,t),i=!1,s()}}}function Un(t,e,n){let{label:r=null}=e,{value:o}=e,{options:i}=e;const s=I();function l(t){n(0,o=t),s("input",{value:o})}return t.$$set=t=>{"label"in t&&n(1,r=t.label),"value"in t&&n(0,o=t.value),"options"in t&&n(2,i=t.options)},[o,r,i,l,t=>l(t.currentTarget.value)]}class Wn extends at{constructor(t){super(),dt(this,t,Un,jn,s,{label:1,value:0,options:2})}}function Yn(t,e,n){const r=t.slice();return r[15]=e[n],r[17]=n,r}function Zn(e,n){let r,o,i,s,l,d,a,c,u,g,f,h,b,_,T,k,L,H,A,C=0===n[17]?"Sort by":"Then by",M=t;function N(){return n[9](n[17])}return g=new Wn({props:{value:n[15].key.toString(),options:n[0].columns}}),g.$on("input",(function(...t){return n[6](n[17],...t)})),h=new Wn({props:{value:n[15].dir,options:[{id:"asc",label:"Ascending"},{id:"desc",label:"Descending"}]}}),h.$on("input",(function(...t){return n[7](n[17],...t)})),h.$on("input",n[8]),{key:e,first:null,c(){r=y("li"),o=y("p"),i=E(C),s=$(),l=w("svg"),d=w("title"),a=E("drag"),c=w("path"),u=$(),ot(g.$$.fragment),f=$(),ot(h.$$.fragment),b=$(),_=y("button"),_.innerHTML='<svg class="shgrid-pkg_sorter-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Remove sorting layer</title><path d="M19,13H5V11H19V13Z"></path></svg>',T=$(),x(c,"d","M7,19V17H9V19H7M11,19V17H13V19H11M15,19V17H17V19H15M7,15V13H9V15H7M11,15V13H13V15H11M15,15V13H17V15H15M7,11V9H9V11H7M11,11V9H13V11H11M15,11V9H17V11H15M7,7V5H9V7H7M11,7V5H13V7H11M15,7V5H17V7H15Z"),x(l,"class","shgrid-pkg_sorter-svg"),x(l,"xmlns","http://www.w3.org/2000/svg"),x(l,"viewBox","0 0 24 24"),x(_,"class","shgrid-pkg_sorter-btn-error"),x(r,"class","shgrid-pkg_option-sorter-row"),this.first=r},m(t,e){m(t,r,e),p(r,o),p(o,i),p(r,s),p(r,l),p(l,d),p(d,a),p(l,c),p(r,u),it(g,r,null),p(r,f),it(h,r,null),p(r,b),p(r,_),p(r,T),L=!0,H||(A=D(_,"click",N),H=!0)},p(t,e){n=t,(!L||8&e)&&C!==(C=0===n[17]?"Sort by":"Then by")&&O(i,C);const r={};8&e&&(r.value=n[15].key.toString()),1&e&&(r.options=n[0].columns),g.$set(r);const o={};8&e&&(o.value=n[15].dir),h.$set(o)},r(){k=r.getBoundingClientRect()},f(){V(r),M()},a(){M(),M=S(r,k,pt,{duration:n[2]})},i(t){L||(tt(g.$$.fragment,t),tt(h.$$.fragment,t),L=!0)},o(t){et(g.$$.fragment,t),et(h.$$.fragment,t),L=!1},d(t){t&&v(r),st(g),st(h),H=!1,A()}}}function qn(t){let e,n,r,s,d,a,c,u,g,f,h=[],b=new Map,w=t[3];const E=t=>t[15].id;for(let e=0;e<w.length;e+=1){let n=Yn(t,w,e),r=E(n);b.set(r,h[e]=Zn(r,n))}return{c(){e=y("div"),n=y("p"),n.textContent="Sorting",r=$(),s=y("ul");for(let t=0;t<h.length;t+=1)h[t].c();a=$(),c=y("button"),c.innerHTML='<span>Add Sorting Layer</span> \n\t\t<svg class="shgrid-pkg_sorter-add-sorter-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Add sorting layer</title><path d="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z"></path></svg>',x(n,"class","shgrid-pkg_sorters-subtitle"),x(c,"class","shgrid-pkg_btn-add-sorter"),x(e,"class","shgrid-pkg_options-sorters")},m(o,i){m(o,e,i),p(e,n),p(e,r),p(e,s);for(let t=0;t<h.length;t+=1)h[t]&&h[t].m(s,null);p(e,a),p(e,c),u=!0,g||(f=[l(d=Vn.call(null,s,{items:t[3],flipDurationMs:t[2],dropFromOthersDisabled:!0})),D(s,"consider",t[10]),D(s,"finalize",t[11]),D(c,"click",t[12])],g=!0)},p(t,[e]){if(41&e){w=t[3],J();for(let t=0;t<h.length;t+=1)h[t].r();h=rt(h,e,E,1,t,w,b,s,nt,Zn,null,Yn);for(let t=0;t<h.length;t+=1)h[t].a();Q()}d&&i(d.update)&&12&e&&d.update.call(null,{items:t[3],flipDurationMs:t[2],dropFromOthersDisabled:!0})},i(t){if(!u){for(let t=0;t<w.length;t+=1)tt(h[t]);u=!0}},o(t){for(let t=0;t<h.length;t+=1)et(h[t]);u=!1},d(t){t&&v(e);for(let t=0;t<h.length;t+=1)h[t].d();g=!1,o(f)}}}function Xn(t,e,n){let{builder:r}=e,{rerender:o}=e,{flipDurationMs:i=300}=e;const s=t=>t.sorters.map(((t,e)=>({key:t[0],dir:t[1],id:e})));let l=s(r);function d(){const t=r.columns?.[0]?.id??"";r.sorters.push([t,"asc"]),r.buildData(),n(3,l=s(r))}function a(t){r.sorters.splice(t,1),r.buildData(),n(3,l=s(r))}return t.$$set=t=>{"builder"in t&&n(0,r=t.builder),"rerender"in t&&n(1,o=t.rerender),"flipDurationMs"in t&&n(2,i=t.flipDurationMs)},t.$$.update=()=>{t.$$.dirty},[r,o,i,l,d,a,(t,e)=>{n(0,r.sorters[t][0]=e.detail.value,r),r.buildData()},(t,e)=>{n(0,r.sorters[t][1]=e.detail.value,r),r.buildData()},()=>r.buildData(),t=>a(t),t=>n(3,l=t.detail.items),t=>{n(3,l=t.detail.items),n(0,r.sorters=l.map((t=>[t.key,t.dir])),r),o()},()=>d()]}class Kn extends at{constructor(t){super(),dt(this,t,Xn,qn,s,{builder:0,rerender:1,flipDurationMs:2})}}function Jn(t,e,n){const r=t.slice();return r[7]=e[n],r[8]=e,r[9]=n,r}function Qn(e,n){let r,o,i,s,l,d,a,c,u,g,f,h,b,_,D=n[7].label+"",T=t;return f=new Fn({props:{name:n[7].id.toString(),value:!n[7].hidden}}),f.$on("input",(function(){return n[3](n[7],n[8],n[9])})),{key:e,first:null,c(){r=y("li"),o=w("svg"),i=w("title"),s=E("drag"),l=w("path"),d=$(),a=y("label"),c=E(D),g=$(),ot(f.$$.fragment),h=$(),x(l,"d","M7,19V17H9V19H7M11,19V17H13V19H11M15,19V17H17V19H15M7,15V13H9V15H7M11,15V13H13V15H11M15,15V13H17V15H15M7,11V9H9V11H7M11,11V9H13V11H11M15,11V9H17V11H15M7,7V5H9V7H7M11,7V5H13V7H11M15,7V5H17V7H15Z"),x(o,"class","shgrid-pkg_options-column-svg"),x(o,"xmlns","http://www.w3.org/2000/svg"),x(o,"viewBox","0 0 24 24"),x(a,"for",u=n[7].id.toString()),x(r,"class","shgrid-pkg_column-option-row"),this.first=r},m(t,e){m(t,r,e),p(r,o),p(o,i),p(i,s),p(o,l),p(r,d),p(r,a),p(a,c),p(r,g),it(f,r,null),p(r,h),_=!0},p(t,e){n=t,(!_||4&e)&&D!==(D=n[7].label+"")&&O(c,D),(!_||4&e&&u!==(u=n[7].id.toString()))&&x(a,"for",u);const r={};4&e&&(r.name=n[7].id.toString()),4&e&&(r.value=!n[7].hidden),f.$set(r)},r(){b=r.getBoundingClientRect()},f(){V(r),T()},a(){T(),T=S(r,b,pt,{duration:er})},i(t){_||(tt(f.$$.fragment,t),_=!0)},o(t){et(f.$$.fragment,t),_=!1},d(t){t&&v(r),st(f)}}}function tr(t){let e,n,r,s,d,a,c,u,g,f,h,b=[],w=new Map,E=t[2];const _=t=>t[7].id;for(let e=0;e<E.length;e+=1){let n=Jn(t,E,e),r=_(n);w.set(r,b[e]=Qn(r,n))}return u=new Kn({props:{builder:t[0],rerender:t[1]}}),{c(){e=y("div"),n=y("div"),r=y("h4"),r.textContent="Columns",s=$(),d=y("ul");for(let t=0;t<b.length;t+=1)b[t].c();c=$(),ot(u.$$.fragment),x(r,"class","shgrid-pkg_columns-subtitle"),x(n,"class","shgrid-pkg_options-columns"),x(e,"class","shgrid-pkg_option-block")},m(o,i){m(o,e,i),p(e,n),p(n,r),p(n,s),p(n,d);for(let t=0;t<b.length;t+=1)b[t]&&b[t].m(d,null);p(e,c),it(u,e,null),g=!0,f||(h=[l(a=Vn.call(null,d,{items:t[2],flipDurationMs:er,dropFromOthersDisabled:!0})),D(d,"consider",t[4]),D(d,"finalize",t[5])],f=!0)},p(t,[e]){if(5&e){E=t[2],J();for(let t=0;t<b.length;t+=1)b[t].r();b=rt(b,e,_,1,t,E,w,d,nt,Qn,null,Jn);for(let t=0;t<b.length;t+=1)b[t].a();Q()}a&&i(a.update)&&4&e&&a.update.call(null,{items:t[2],flipDurationMs:er,dropFromOthersDisabled:!0});const n={};1&e&&(n.builder=t[0]),2&e&&(n.rerender=t[1]),u.$set(n)},i(t){if(!g){for(let t=0;t<E.length;t+=1)tt(b[t]);tt(u.$$.fragment,t),g=!0}},o(t){for(let t=0;t<b.length;t+=1)et(b[t]);et(u.$$.fragment,t),g=!1},d(t){t&&v(e);for(let t=0;t<b.length;t+=1)b[t].d();st(u),f=!1,o(h)}}}const er=300;function nr(t,e,n){let{builder:r}=e,{rerender:o}=e,i=r.columns;!function(t){t.sorters.map(((t,e)=>({id:e,key:t[0],dir:t[1]})))}(r);return t.$$set=t=>{"builder"in t&&n(0,r=t.builder),"rerender"in t&&n(1,o=t.rerender)},[r,o,i,(t,e,o)=>{n(2,e[o].hidden=!t.hidden,i),r.buildData()},t=>{n(2,i=t.detail.items),o()},t=>{n(0,r.columns=t.detail.items,r),n(2,i=[...r.columns]),o()}]}class rr extends at{constructor(t){super(),dt(this,t,nr,tr,s,{builder:0,rerender:1})}}function or(e){let n,r,i,s,l,d,a,c,u,g,f,h,b,_,T,k,L,H,A,C,M,S,V,N,R,I,P,F,B,z=e[2]+1+"",G=e[3]+1+"";return{c(){n=y("form"),r=y("div"),i=y("button"),s=w("svg"),l=w("title"),d=E("Previous Page"),a=w("path"),u=$(),g=y("p"),f=E(z),h=E(" of "),b=E(G),_=$(),T=y("button"),k=w("svg"),L=w("title"),H=E("Next Page"),A=w("path"),M=$(),S=y("div"),V=y("input"),I=$(),P=y("button"),P.textContent="Go â†’",x(a,"d","M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z"),x(s,"xmlns","http://www.w3.org/2000/svg"),x(s,"viewBox","0 0 24 24"),x(s,"class","shgrid-pkg_paginator-btn-svg"),x(i,"type","button"),i.disabled=c=e[2]<1,x(i,"class","shgrid-pkg_pagination-btn"),x(g,"class","shgrid-pkg_paginator-text"),x(A,"d","M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z"),x(k,"xmlns","http://www.w3.org/2000/svg"),x(k,"viewBox","0 0 24 24"),x(k,"class","shgrid-pkg_paginator-btn-svg"),x(T,"type","button"),T.disabled=C=e[2]>=e[3],x(T,"class","shgrid-pkg_pagination-btn"),x(r,"class","shgrid-pkg_pagination-btns"),x(V,"class","shgrid-pkg_pagination-search-input"),x(V,"type","number"),V.value=N=e[2]+1,x(V,"max",R=1+e[0].count/e[0].paginator.limit),x(V,"min",1),x(P,"class","shgrid-pkg_pagination-search-btn"),x(P,"type","button"),x(S,"class","shgrid-pkg_pagination-search-wrapper"),x(n,"class","shgrid-pkg_pagination")},m(t,o){m(t,n,o),p(n,r),p(r,i),p(i,s),p(s,l),p(l,d),p(s,a),p(r,u),p(r,g),p(g,f),p(g,h),p(g,b),p(r,_),p(r,T),p(T,k),p(k,L),p(L,H),p(k,A),p(n,M),p(n,S),p(S,V),p(S,I),p(S,P),F||(B=[D(i,"click",e[4]),D(T,"click",e[5]),D(V,"input",e[6]),D(P,"click",e[7])],F=!0)},p(t,[e]){4&e&&c!==(c=t[2]<1)&&(i.disabled=c),4&e&&z!==(z=t[2]+1+"")&&O(f,z),8&e&&G!==(G=t[3]+1+"")&&O(b,G),12&e&&C!==(C=t[2]>=t[3])&&(T.disabled=C),4&e&&N!==(N=t[2]+1)&&V.value!==N&&(V.value=N),1&e&&R!==(R=1+t[0].count/t[0].paginator.limit)&&x(V,"max",R)},i:t,o:t,d(t){t&&v(n),F=!1,o(B)}}}function ir(t,e,n){let r,o,{builder:i}=e,s=r??0;return t.$$set=t=>{"builder"in t&&n(0,i=t.builder)},t.$$.update=()=>{1&t.$$.dirty&&n(2,r=Math.floor(i.paginator.offset/i.paginator.limit)),1&t.$$.dirty&&n(3,o=Math.floor(i.count/i.paginator.limit))},[i,s,r,o,()=>i.setPage(r-1),()=>i.setPage(r+1),t=>n(1,s=+t.currentTarget.value-1),()=>i.setPage(s)]}class sr extends at{constructor(t){super(),dt(this,t,ir,or,s,{builder:0})}}function lr(e){let n,r,o,i,s,l,d;return{c(){n=y("div"),r=y("h3"),o=E("Error: "),i=E(e[0]),s=$(),l=y("p"),d=E(e[1]),x(r,"class","subtitle"),x(n,"class","wrapper svelte-rfcc3f")},m(t,e){m(t,n,e),p(n,r),p(r,o),p(r,i),p(n,s),p(n,l),p(l,d)},p(t,[e]){1&e&&O(i,t[0]),2&e&&O(d,t[1])},i:t,o:t,d(t){t&&v(n)}}}function dr(t,e,n){let{code:r}=e,{message:o}=e;return t.$$set=t=>{"code"in t&&n(0,r=t.code),"message"in t&&n(1,o=t.message)},[r,o]}class ar extends at{constructor(t){super(),dt(this,t,dr,lr,s,{code:0,message:1})}}function cr(t){let e,n,r,o,i,s,l,d=t[0].selected.size+"";return{c(){e=y("p"),n=E(d),r=E(" selected"),o=$(),i=y("button"),i.textContent="Clear",x(i,"class","shgrid-pkg_selection-clear-btn shgrid-pkg_btn"),x(i,"type","button")},m(d,a){m(d,e,a),p(e,n),p(e,r),m(d,o,a),m(d,i,a),s||(l=D(i,"click",t[1]),s=!0)},p(t,e){1&e&&d!==(d=t[0].selected.size+"")&&O(n,d)},d(t){t&&v(e),t&&v(o),t&&v(i),s=!1,l()}}}function ur(e){let n,r=void 0!==e[0].selected?.size&&cr(e);return{c(){n=y("div"),r&&r.c(),x(n,"class","shgrid-pkg_selection-wrapper")},m(t,e){m(t,n,e),r&&r.m(n,null)},p(t,[e]){void 0!==t[0].selected?.size?r?r.p(t,e):(r=cr(t),r.c(),r.m(n,null)):r&&(r.d(1),r=null)},i:t,o:t,d(t){t&&v(n),r&&r.d()}}}function gr(t,e,n){let{builder:r}=e;const o=I();return t.$$set=t=>{"builder"in t&&n(0,r=t.builder)},[r,()=>{r.selected?.clear(),o("updatedSelection",r.selected),r.listener?.()}]}class pr extends at{constructor(t){super(),dt(this,t,gr,ur,s,{builder:0})}}function fr(t,e,n){const r=t.slice();return r[16]=e[n],r[17]=e,r[18]=n,r}function hr(t,e,n){const r=t.slice();return r[19]=e[n],r}function mr(t,e,n){const r=t.slice();return r[19]=e[n],r[18]=n,r}function vr(t,e,n){const r=t.slice();return r[19]=e[n],r[23]=e,r[24]=n,r}function br(e){let n,r,o;return{c(){n=y("button"),n.innerHTML='<p>Options</p> \n\t\t\t<svg class="shgrid-pkg_options-btn-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Options</title><path d="M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.21,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.21,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.67 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z"></path></svg>',x(n,"class","shgrid-pkg_options-btn")},m(t,i){m(t,n,i),r||(o=D(n,"click",e[8]),r=!0)},p:t,d(t){t&&v(n),r=!1,o()}}}function yr(t){let e,n;return e=new rr({props:{builder:t[0],rerender:t[6]}}),{c(){ot(e.$$.fragment)},m(t,r){it(e,t,r),n=!0},p(t,n){const r={};1&n&&(r.builder=t[0]),e.$set(r)},i(t){n||(tt(e.$$.fragment,t),n=!0)},o(t){et(e.$$.fragment,t),n=!1},d(t){st(e,t)}}}function wr(t){let e;return{c(){e=y("th")},m(t,n){m(t,e,n)},d(t){t&&v(e)}}}function Er(t){let e;return{c(){e=y("th")},m(t,n){m(t,e,n)},d(t){t&&v(e)}}}function $r(t){let e,n,r,o;function i(t,e){return t[0].sorters?.[0]?.[0]===t[19].id?Dr:_r}let s=i(t),l=s(t);function d(){return t[10](t[19])}return{c(){e=y("button"),n=w("svg"),l.c(),x(n,"class","shgrid-pkg_th-svg"),x(n,"xmlns","http://www.w3.org/2000/svg"),x(n,"viewBox","0 0 24 24"),x(e,"class","shgrid-pkg_th-btn-hidden")},m(t,i){m(t,e,i),p(e,n),l.m(n,null),r||(o=D(e,"click",d),r=!0)},p(e,r){s===(s=i(t=e))&&l?l.p(t,r):(l.d(1),l=s(t),l&&(l.c(),l.m(n,null)))},d(t){t&&v(e),l.d(),r=!1,o()}}}function _r(e){let n,r,o;return{c(){n=w("title"),r=E("sort"),o=w("path"),x(o,"d","M18 21L14 17H17V7H14L18 3L22 7H19V17H22M2 19V17H12V19M2 13V11H9V13M2 7V5H6V7H2Z")},m(t,e){m(t,n,e),p(n,r),m(t,o,e)},p:t,d(t){t&&v(n),t&&v(o)}}}function Dr(t){let e;function n(t,e){return"desc"===t[0].sorters?.[0]?.[1]?Or:xr}let r=n(t),o=r(t);return{c(){o.c(),e=_()},m(t,n){o.m(t,n),m(t,e,n)},p(t,i){r!==(r=n(t))&&(o.d(1),o=r(t),o&&(o.c(),o.m(e.parentNode,e)))},d(t){o.d(t),t&&v(e)}}}function xr(t){let e,n,r;return{c(){e=w("title"),n=E("sort-alphabetical-ascending"),r=w("path"),x(r,"d","M19 17H22L18 21L14 17H17V3H19M11 13V15L7.67 19H11V21H5V19L8.33 15H5V13M9 3H7C5.9 3 5 3.9 5 5V11H7V9H9V11H11V5C11 3.9 10.11 3 9 3M9 7H7V5H9Z")},m(t,o){m(t,e,o),p(e,n),m(t,r,o)},d(t){t&&v(e),t&&v(r)}}}function Or(t){let e,n,r;return{c(){e=w("title"),n=E("sort-alphabetical-descending"),r=w("path"),x(r,"d","M19 7H22L18 3L14 7H17V21H19M11 13V15L7.67 19H11V21H5V19L8.33 15H5V13M9 3H7C5.9 3 5 3.9 5 5V11H7V9H9V11H11V5C11 3.9 10.11 3 9 3M9 7H7V5H9Z")},m(t,o){m(t,e,o),p(e,n),m(t,r,o)},d(t){t&&v(e),t&&v(r)}}}function Tr(t){let e,n,r;function o(...e){return t[11](t[19],t[23],t[24],...e)}return{c(){e=y("input"),x(e,"class","shgrid-pkg_th-input"),x(e,"type","text")},m(t,i){m(t,e,i),n||(r=D(e,"input",o),n=!0)},p(e,n){t=e},d(t){t&&v(e),n=!1,r()}}}function kr(t){let e,n,r,o,i,s,l,d,a=t[19].label+"",c=0!=t[19]?.sortable&&$r(t),u=0!=t[19]?.searchable&&Tr(t);return{c(){e=y("th"),n=y("label"),r=y("div"),o=y("p"),i=E(a),s=$(),c&&c.c(),l=$(),u&&u.c(),d=$(),x(o,"class","shgrid-pkg_th"),x(r,"class","shgrid-pkg_th-label-top"),k(r,"shgrid-pkg_th-label-top-sortable",!1!==t[19]?.sortable),x(n,"class","shgrid-pkg_th-label")},m(t,a){m(t,e,a),p(e,n),p(n,r),p(r,o),p(o,i),p(r,s),c&&c.m(r,null),p(n,l),u&&u.m(n,null),p(e,d)},p(t,e){32&e&&a!==(a=t[19].label+"")&&O(i,a),0!=t[19]?.sortable?c?c.p(t,e):(c=$r(t),c.c(),c.m(r,null)):c&&(c.d(1),c=null),32&e&&k(r,"shgrid-pkg_th-label-top-sortable",!1!==t[19]?.sortable),0!=t[19]?.searchable?u?u.p(t,e):(u=Tr(t),u.c(),u.m(n,null)):u&&(u.d(1),u=null)},d(t){t&&v(e),c&&c.d(),u&&u.d()}}}function Lr(e){let n,r=e[4],o=[];for(let t=0;t<r.length;t+=1)o[t]=Br(fr(e,r,t));return{c(){for(let t=0;t<o.length;t+=1)o[t].c();n=_()},m(t,e){for(let n=0;n<o.length;n+=1)o[n]&&o[n].m(t,e);m(t,n,e)},p(t,e){if(245&e){let i;for(r=t[4],i=0;i<r.length;i+=1){const s=fr(t,r,i);o[i]?o[i].p(s,e):(o[i]=Br(s),o[i].c(),o[i].m(n.parentNode,n))}for(;i<o.length;i+=1)o[i].d(1);o.length=r.length}},i:t,o:t,d(t){b(o,t),t&&v(n)}}}function Hr(t){let e,n,r,o;return r=new ar({props:{message:t[0].error.message,code:t[0].error.code}}),{c(){e=y("tr"),n=y("td"),ot(r.$$.fragment),x(n,"colspan","999")},m(t,i){m(t,e,i),p(e,n),it(r,n,null),o=!0},p(t,e){const n={};1&e&&(n.message=t[0].error.message),1&e&&(n.code=t[0].error.code),r.$set(n)},i(t){o||(tt(r.$$.fragment,t),o=!0)},o(t){et(r.$$.fragment,t),o=!1},d(t){t&&v(e),st(r)}}}function Ar(e){let n,r,o,i;return o=new ut({}),{c(){n=y("tr"),r=y("td"),ot(o.$$.fragment),x(r,"colspan","999")},m(t,e){m(t,n,e),p(n,r),it(o,r,null),i=!0},p:t,i(t){i||(tt(o.$$.fragment,t),i=!0)},o(t){et(o.$$.fragment,t),i=!1},d(t){t&&v(n),st(o)}}}function Cr(t){let e,n,r,o,i;function s(){return t[12](t[16])}return{c(){e=y("td"),n=y("input"),x(n,"type","checkbox"),n.checked=r=t[16].isSelected,x(n,"class","shgrid-pkg_selection-checkbox shgrid-pkg_checkbox"),x(e,"class","shgrid-pkg_td shgrid-pkg_selection-td")},m(t,r){m(t,e,r),p(e,n),o||(i=D(n,"input",s),o=!0)},p(e,o){t=e,16&o&&r!==(r=t[16].isSelected)&&(n.checked=r)},d(t){t&&v(e),o=!1,i()}}}function Mr(t){let e,n,r,o;function i(t,e){return t[16].isOpen?Vr:Sr}let s=i(t),l=s(t);function d(){return t[13](t[16],t[17],t[18])}return{c(){e=y("td"),n=y("button"),l.c(),x(n,"class","shgrid-pkg_expand-btn"),x(e,"class","shgrid-pkg_td")},m(t,i){m(t,e,i),p(e,n),l.m(n,null),r||(o=D(n,"click",d),r=!0)},p(e,r){s!==(s=i(t=e))&&(l.d(1),l=s(t),l&&(l.c(),l.m(n,null)))},d(t){t&&v(e),l.d(),r=!1,o()}}}function Sr(t){let e,n,r,o;return{c(){e=w("svg"),n=w("title"),r=E("Expand"),o=w("path"),x(o,"d","M10,21V19H6.41L10.91,14.5L9.5,13.09L5,17.59V14H3V21H10M14.5,10.91L19,6.41V10H21V3H14V5H17.59L13.09,9.5L14.5,10.91Z"),x(e,"class","shgrid-pkg_expand-btn-svg"),x(e,"xmlns","http://www.w3.org/2000/svg"),x(e,"viewBox","0 0 24 24")},m(t,i){m(t,e,i),p(e,n),p(n,r),p(e,o)},d(t){t&&v(e)}}}function Vr(t){let e,n,r,o;return{c(){e=w("svg"),n=w("title"),r=E("Shrink"),o=w("path"),x(o,"d","M19.5,3.09L15,7.59V4H13V11H20V9H16.41L20.91,4.5L19.5,3.09M4,13V15H7.59L3.09,19.5L4.5,20.91L9,16.41V20H11V13H4Z"),x(e,"class","shgrid-pkg_expand-btn-svg"),x(e,"xmlns","http://www.w3.org/2000/svg"),x(e,"viewBox","0 0 24 24")},m(t,i){m(t,e,i),p(e,n),p(n,r),p(e,o)},d(t){t&&v(e)}}}function Nr(t){let e,n,r=t[0].formatCell(t[16].data,t[19].id.toString())+"";function o(){return t[14](t[19],t[16])}return{c(){e=y("a"),x(e,"href",n=o()),x(e,"class","shgrid-pkg_td-link"),k(e,"shgrid-pkg_hover-highlight-row",void 0===t[19].link),k(e,"shgrid-pkg_hover-highlight-cell",void 0!==t[19].link),k(e,"shgrid-pkg_selected-a",t[0].selected?.has(t[16].data.id))},m(t,n){m(t,e,n),e.innerHTML=r},p(i,s){t=i,49&s&&r!==(r=t[0].formatCell(t[16].data,t[19].id.toString())+"")&&(e.innerHTML=r),49&s&&n!==(n=o())&&x(e,"href",n),32&s&&k(e,"shgrid-pkg_hover-highlight-row",void 0===t[19].link),32&s&&k(e,"shgrid-pkg_hover-highlight-cell",void 0!==t[19].link),17&s&&k(e,"shgrid-pkg_selected-a",t[0].selected?.has(t[16].data.id))},d(t){t&&v(e)}}}function Rr(t){let e,n=t[0].formatCell(t[16].data,t[19].id.toString())+"";return{c(){e=y("div")},m(t,r){m(t,e,r),e.innerHTML=n},p(t,r){49&r&&n!==(n=t[0].formatCell(t[16].data,t[19].id.toString())+"")&&(e.innerHTML=n)},d(t){t&&v(e)}}}function Ir(t){let e,n,r,o;function i(t,e){return void 0===t[0].rowLink&&void 0===t[19].link?Rr:Nr}let s=i(t),l=s(t);function d(...e){return t[15](t[16],t[19],...e)}return{c(){e=y("td"),l.c(),n=$(),x(e,"class","shgrid-pkg_td")},m(t,i){m(t,e,i),l.m(e,null),p(e,n),r||(o=D(e,"click",d),r=!0)},p(r,o){s===(s=i(t=r))&&l?l.p(t,o):(l.d(1),l=s(t),l&&(l.c(),l.m(e,n)))},d(t){t&&v(e),l.d(),r=!1,o()}}}function Pr(t){let e,n,r,o,i=t[0].columns,s=[];for(let e=0;e<i.length;e+=1)s[e]=Fr(hr(t,i,e));return{c(){e=y("tr"),n=y("td"),r=y("div");for(let t=0;t<s.length;t+=1)s[t].c();o=$(),x(r,"class","shgrid-pkg_expanded-wrapper"),x(n,"colspan","999"),x(n,"class","shgrid-pkg_expanded"),x(e,"class","shgrid-pkg_expanded"),k(e,"shgrid-pkg_odd-darker",t[18]%2-1)},m(t,i){m(t,e,i),p(e,n),p(n,r);for(let t=0;t<s.length;t+=1)s[t]&&s[t].m(r,null);p(e,o)},p(t,e){if(1&e){let n;for(i=t[0].columns,n=0;n<i.length;n+=1){const o=hr(t,i,n);s[n]?s[n].p(o,e):(s[n]=Fr(o),s[n].c(),s[n].m(r,null))}for(;n<s.length;n+=1)s[n].d(1);s.length=i.length}},d(t){t&&v(e),b(s,t)}}}function Fr(t){let e,n,r,o,i,s,l,d,a=t[19].label+"",c=JSON.stringify(t[0].data[t[18]][t[19].id])+"";return{c(){e=y("div"),n=y("p"),r=E(a),o=E(":"),i=$(),s=y("p"),l=E(c),d=$(),x(e,"class","shgrid-pkg_expanded-row")},m(t,a){m(t,e,a),p(e,n),p(n,r),p(n,o),p(e,i),p(e,s),p(s,l),p(e,d)},p(t,e){1&e&&a!==(a=t[19].label+"")&&O(r,a),1&e&&c!==(c=JSON.stringify(t[0].data[t[18]][t[19].id])+"")&&O(l,c)},d(t){t&&v(e)}}}function Br(t){let e,n,r,o,i,s=void 0!==t[0].selected&&Cr(t),l=t[2]&&Mr(t),d=t[5],a=[];for(let e=0;e<d.length;e+=1)a[e]=Ir(mr(t,d,e));let c=t[16].isOpen&&Pr(t);return{c(){e=y("tr"),s&&s.c(),n=$(),l&&l.c(),r=$();for(let t=0;t<a.length;t+=1)a[t].c();o=$(),c&&c.c(),i=_(),x(e,"class","shgrid-pkg_body-tr"),k(e,"shgrid-pkg_odd-darker",t[18]%2-1),k(e,"shgrid-pkg_selected-tr",t[0].selected?.has(t[16].data.id))},m(t,d){m(t,e,d),s&&s.m(e,null),p(e,n),l&&l.m(e,null),p(e,r);for(let t=0;t<a.length;t+=1)a[t]&&a[t].m(e,null);m(t,o,d),c&&c.m(t,d),m(t,i,d)},p(t,o){if(void 0!==t[0].selected?s?s.p(t,o):(s=Cr(t),s.c(),s.m(e,n)):s&&(s.d(1),s=null),t[2]?l?l.p(t,o):(l=Mr(t),l.c(),l.m(e,r)):l&&(l.d(1),l=null),177&o){let n;for(d=t[5],n=0;n<d.length;n+=1){const r=mr(t,d,n);a[n]?a[n].p(r,o):(a[n]=Ir(r),a[n].c(),a[n].m(e,null))}for(;n<a.length;n+=1)a[n].d(1);a.length=d.length}17&o&&k(e,"shgrid-pkg_selected-tr",t[0].selected?.has(t[16].data.id)),t[16].isOpen?c?c.p(t,o):(c=Pr(t),c.c(),c.m(i.parentNode,i)):c&&(c.d(1),c=null)},d(t){t&&v(e),s&&s.d(),l&&l.d(),b(a,t),t&&v(o),c&&c.d(t),t&&v(i)}}}function zr(t){let e,n,r,o,i,s,l,d,a,c,u,g,f,h,w,E,_,D,O=t[1]&&br(t);r=new pr({props:{builder:t[0]}}),r.$on("updatedSelection",t[9]);let T=t[3]&&yr(t),k=void 0!==t[0].selected&&wr(),L=t[2]&&Er(),H=t[5],A=[];for(let e=0;e<H.length;e+=1)A[e]=kr(vr(t,H,e));const C=[Ar,Hr,Lr],M=[];function S(t,e){return t[0].loading?0:null!==t[0].error?1:2}return h=S(t),w=M[h]=C[h](t),_=new sr({props:{builder:t[0]}}),{c(){e=y("div"),O&&O.c(),n=$(),ot(r.$$.fragment),o=$(),i=y("div"),T&&T.c(),s=$(),l=y("table"),d=y("thead"),a=y("tr"),k&&k.c(),c=$(),L&&L.c(),u=$();for(let t=0;t<A.length;t+=1)A[t].c();g=$(),f=y("tbody"),w.c(),E=$(),ot(_.$$.fragment),x(l,"class","shgrid-pkg_table"),x(e,"class","shgrid-wrapper")},m(t,v){m(t,e,v),O&&O.m(e,null),p(e,n),it(r,e,null),p(e,o),p(e,i),T&&T.m(i,null),p(i,s),p(i,l),p(l,d),p(d,a),k&&k.m(a,null),p(a,c),L&&L.m(a,null),p(a,u);for(let t=0;t<A.length;t+=1)A[t]&&A[t].m(a,null);p(l,g),p(l,f),M[h].m(f,null),p(e,E),it(_,e,null),D=!0},p(t,[o]){t[1]?O?O.p(t,o):(O=br(t),O.c(),O.m(e,n)):O&&(O.d(1),O=null);const l={};if(1&o&&(l.builder=t[0]),r.$set(l),t[3]?T?(T.p(t,o),8&o&&tt(T,1)):(T=yr(t),T.c(),tt(T,1),T.m(i,s)):T&&(J(),et(T,1,1,(()=>{T=null})),Q()),void 0!==t[0].selected?k||(k=wr(),k.c(),k.m(a,c)):k&&(k.d(1),k=null),t[2]?L||(L=Er(),L.c(),L.m(a,u)):L&&(L.d(1),L=null),33&o){let e;for(H=t[5],e=0;e<H.length;e+=1){const n=vr(t,H,e);A[e]?A[e].p(n,o):(A[e]=kr(n),A[e].c(),A[e].m(a,null))}for(;e<A.length;e+=1)A[e].d(1);A.length=H.length}let d=h;h=S(t),h===d?M[h].p(t,o):(J(),et(M[d],1,1,(()=>{M[d]=null})),Q(),w=M[h],w?w.p(t,o):(w=M[h]=C[h](t),w.c()),tt(w,1),w.m(f,null));const g={};1&o&&(g.builder=t[0]),_.$set(g)},i(t){D||(tt(r.$$.fragment,t),tt(T),tt(w),tt(_.$$.fragment,t),D=!0)},o(t){et(r.$$.fragment,t),et(T),et(w),et(_.$$.fragment,t),D=!1},d(t){t&&v(e),O&&O.d(),st(r),T&&T.d(),k&&k.d(),L&&L.d(),b(A,t),M[h].d(),st(_)}}}function Gr(t,e,n){let r,o,{hasOptions:i=!0}=e,{canExpandRows:s=!0}=e,{builder:l}=e,d=()=>{n(0,l)};var a;l.setListener(d),a=()=>{l.buildDataOnLoad||l.buildData()},R().$$.on_mount.push(a);let c=!1;const u=I();return t.$$set=t=>{"hasOptions"in t&&n(1,i=t.hasOptions),"canExpandRows"in t&&n(2,s=t.canExpandRows),"builder"in t&&n(0,l=t.builder)},t.$$.update=()=>{1&t.$$.dirty&&n(5,r=l.columns.filter((t=>!t.hidden))),1&t.$$.dirty&&n(4,o=l.data.map((t=>({data:t,isOpen:!1,isSelected:void 0!==l.selected&&l.selected.has(t.id)}))))},[l,i,s,c,o,r,d,u,()=>n(3,c=!c),t=>u("updatedSelection",t.detail),t=>l.sortColumn(t.id.toString()),(t,e,o,i)=>{n(5,e[o].filter=i.currentTarget.value,r),l.setPage(0),l.buildData()},t=>{t.isSelected?l.selected?.delete(t.data.id):l.selected?.set(t.data.id,t.data),console.log(l.selected),u("updatedSelection",l.selected),d()},(t,e,r)=>n(4,e[r].isOpen=!t.isOpen,o),(t,e)=>void 0!==t.link?t.link(e.data):void 0!==l.rowLink?l.rowLink(e.data):void 0,(t,e,n)=>u("cellClick",{e:n,row:t,column:e})]}class jr extends at{constructor(t){super(),dt(this,t,Gr,zr,s,{hasOptions:1,canExpandRows:2,builder:0})}}export{jr as default};
//# sourceMappingURL=shgrid.js.map
