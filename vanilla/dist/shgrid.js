function t(){}const e=t=>t;function n(t){return t()}function r(){return Object.create(null)}function o(t){t.forEach(n)}function i(t){return"function"==typeof t}function s(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function l(e){return e&&i(e.destroy)?e.destroy:t}const d="undefined"!=typeof window;let a=d?()=>window.performance.now():()=>Date.now(),c=d?t=>requestAnimationFrame(t):t;const u=new Set;function g(t){u.forEach((e=>{e.c(t)||(u.delete(e),e.f())})),0!==u.size&&c(g)}function p(t,e){t.appendChild(e)}function f(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function h(t){const e=y("style");return function(t,e){p(t.head||t,e),e.sheet}(f(t),e),e.sheet}function m(t,e,n){t.insertBefore(e,n||null)}function v(t){t.parentNode&&t.parentNode.removeChild(t)}function b(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function y(t){return document.createElement(t)}function w(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function E(t){return document.createTextNode(t)}function _(){return E(" ")}function $(){return E("")}function D(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function x(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function O(t,e){e=""+e,t.data!==e&&(t.data=e)}function T(t,e,n,r){null==n?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}function k(t,e,n){for(let n=0;n<t.options.length;n+=1){const r=t.options[n];if(r.__value===e)return void(r.selected=!0)}n&&void 0===e||(t.selectedIndex=-1)}function L(t,e,n){t.classList[n?"add":"remove"](e)}const H=new Map;let A,M=0;function C(t,e,n,r,o,i,s,l=0){const d=16.666/r;let a="{\n";for(let t=0;t<=1;t+=d){const r=e+(n-e)*i(t);a+=100*t+`%{${s(r,1-r)}}\n`}const c=a+`100% {${s(n,1-n)}}\n}`,u=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(c)}_${l}`,g=f(t),{stylesheet:p,rules:m}=H.get(g)||function(t,e){const n={stylesheet:h(e),rules:{}};return H.set(t,n),n}(g,t);m[u]||(m[u]=!0,p.insertRule(`@keyframes ${u} ${c}`,p.cssRules.length));const v=t.style.animation||"";return t.style.animation=`${v?`${v}, `:""}${u} ${r}ms linear ${o}ms 1 both`,M+=1,u}function S(t,e){const n=(t.style.animation||"").split(", "),r=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),o=n.length-r.length;o&&(t.style.animation=r.join(", "),M-=o,M||c((()=>{M||(H.forEach((t=>{const{ownerNode:e}=t.stylesheet;e&&v(e)})),H.clear())})))}function V(n,r,o,i){if(!r)return t;const s=n.getBoundingClientRect();if(r.left===s.left&&r.right===s.right&&r.top===s.top&&r.bottom===s.bottom)return t;const{delay:l=0,duration:d=300,easing:p=e,start:f=a()+l,end:h=f+d,tick:m=t,css:v}=o(n,{from:r,to:s},i);let b,y=!0,w=!1;function E(){v&&S(n,b),y=!1}return function(t){let e;0===u.size&&c(g),new Promise((n=>{u.add(e={c:t,f:n})}))}((t=>{if(!w&&t>=f&&(w=!0),w&&t>=h&&(m(1,0),E()),!y)return!1;if(w){const e=0+1*p((t-f)/d);m(e,1-e)}return!0})),v&&(b=C(n,0,1,d,l,p,v)),l||(w=!0),m(0,1),E}function N(t){const e=getComputedStyle(t);if("absolute"!==e.position&&"fixed"!==e.position){const{width:n,height:r}=e,o=t.getBoundingClientRect();t.style.position="absolute",t.style.width=n,t.style.height=r,function(t,e){const n=t.getBoundingClientRect();if(e.left!==n.left||e.top!==n.top){const r=getComputedStyle(t),o="none"===r.transform?"":r.transform;t.style.transform=`${o} translate(${e.left-n.left}px, ${e.top-n.top}px)`}}(t,o)}}function R(t){A=t}function I(){if(!A)throw new Error("Function called outside component initialization");return A}function P(){const t=I();return(e,n,{cancelable:r=!1}={})=>{const o=t.$$.callbacks[e];if(o){const i=function(t,e,{bubbles:n=!1,cancelable:r=!1}={}){const o=document.createEvent("CustomEvent");return o.initCustomEvent(t,n,r,e),o}(e,n,{cancelable:r});return o.slice().forEach((e=>{e.call(t,i)})),!i.defaultPrevented}return!0}}const F=[],B=[];let z=[];const G=[],j=Promise.resolve();let U=!1;function W(t){z.push(t)}const Y=new Set;let Z=0;function q(){if(0!==Z)return;const t=A;do{try{for(;Z<F.length;){const t=F[Z];Z++,R(t),X(t.$$)}}catch(t){throw F.length=0,Z=0,t}for(R(null),F.length=0,Z=0;B.length;)B.pop()();for(let t=0;t<z.length;t+=1){const e=z[t];Y.has(e)||(Y.add(e),e())}z.length=0}while(F.length);for(;G.length;)G.pop()();U=!1,Y.clear(),R(t)}function X(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(W)}}const K=new Set;let J;function Q(){J={r:0,c:[],p:J}}function tt(){J.r||o(J.c),J=J.p}function et(t,e){t&&t.i&&(K.delete(t),t.i(e))}function nt(t,e,n,r){if(t&&t.o){if(K.has(t))return;K.add(t),J.c.push((()=>{K.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}else r&&r()}function rt(t,e){t.f(),function(t,e){nt(t,1,1,(()=>{e.delete(t.key)}))}(t,e)}function ot(t,e,n,r,i,s,l,d,a,c,u,g){let p=t.length,f=s.length,h=p;const m={};for(;h--;)m[t[h].key]=h;const v=[],b=new Map,y=new Map,w=[];for(h=f;h--;){const t=g(i,s,h),o=n(t);let d=l.get(o);d?r&&w.push((()=>d.p(t,e))):(d=c(o,t),d.c()),b.set(o,v[h]=d),o in m&&y.set(o,Math.abs(h-m[o]))}const E=new Set,_=new Set;function $(t){et(t,1),t.m(d,u),l.set(t.key,t),u=t.first,f--}for(;p&&f;){const e=v[f-1],n=t[p-1],r=e.key,o=n.key;e===n?(u=e.first,p--,f--):b.has(o)?!l.has(r)||E.has(r)?$(e):_.has(o)?p--:y.get(r)>y.get(o)?(_.add(r),$(e)):(E.add(o),p--):(a(n,l),p--)}for(;p--;){const e=t[p];b.has(e.key)||a(e,l)}for(;f;)$(v[f-1]);return o(w),v}function it(t){t&&t.c()}function st(t,e,r,s){const{fragment:l,after_update:d}=t.$$;l&&l.m(e,r),s||W((()=>{const e=t.$$.on_mount.map(n).filter(i);t.$$.on_destroy?t.$$.on_destroy.push(...e):o(e),t.$$.on_mount=[]})),d.forEach(W)}function lt(t,e){const n=t.$$;null!==n.fragment&&(!function(t){const e=[],n=[];z.forEach((r=>-1===t.indexOf(r)?e.push(r):n.push(r))),n.forEach((t=>t())),z=e}(n.after_update),o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function dt(t,e){-1===t.$$.dirty[0]&&(F.push(t),U||(U=!0,j.then(q)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function at(e,n,i,s,l,d,a,c=[-1]){const u=A;R(e);const g=e.$$={fragment:null,ctx:[],props:d,update:t,not_equal:l,bound:r(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(u?u.$$.context:[])),callbacks:r(),dirty:c,skip_bound:!1,root:n.target||u.$$.root};a&&a(g.root);let p=!1;if(g.ctx=i?i(e,n.props||{},((t,n,...r)=>{const o=r.length?r[0]:n;return g.ctx&&l(g.ctx[t],g.ctx[t]=o)&&(!g.skip_bound&&g.bound[t]&&g.bound[t](o),p&&dt(e,t)),n})):[],g.update(),p=!0,o(g.before_update),g.fragment=!!s&&s(g.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);g.fragment&&g.fragment.l(t),t.forEach(v)}else g.fragment&&g.fragment.c();n.intro&&et(e.$$.fragment),st(e,n.target,n.anchor,n.customElement),q()}R(u)}class ct{$destroy(){lt(this,1),this.$destroy=t}$on(e,n){if(!i(n))return t;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const t=r.indexOf(n);-1!==t&&r.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function ut(e){let n;return{c(){n=y("div"),n.innerHTML='<div class="lds-roller"><div></div> \n\t\t<div></div> \n\t\t<div></div> \n\t\t<div></div> \n\t\t<div></div> \n\t\t<div></div> \n\t\t<div></div> \n\t\t<div></div></div>',x(n,"class","loading-wrapper")},m(t,e){m(t,n,e)},p:t,i:t,o:t,d(t){t&&v(n)}}}class gt extends ct{constructor(t){super(),at(this,t,null,ut,s,{})}}function pt(t){const e=t-1;return e*e*e+1}function ft(t,{from:e,to:n},r={}){const o=getComputedStyle(t),s="none"===o.transform?"":o.transform,[l,d]=o.transformOrigin.split(" ").map(parseFloat),a=e.left+e.width*l/n.width-(n.left+l),c=e.top+e.height*d/n.height-(n.top+d),{delay:u=0,duration:g=(t=>120*Math.sqrt(t)),easing:p=pt}=r;return{delay:u,duration:i(g)?g(Math.sqrt(a*a+c*c)):g,easing:p,css:(t,r)=>{const o=r*a,i=r*c,l=t+r*e.width/n.width,d=t+r*e.height/n.height;return`transform: ${s} translate(${o}px, ${i}px) scale(${l}, ${d});`}}}const ht="finalize",mt="consider";function vt(t,e,n){t.dispatchEvent(new CustomEvent(ht,{detail:{items:e,info:n}}))}function bt(t,e,n){t.dispatchEvent(new CustomEvent(mt,{detail:{items:e,info:n}}))}const yt="draggedEntered",wt="draggedLeft",Et="draggedOverIndex",_t="draggedLeftDocument",$t={LEFT_FOR_ANOTHER:"leftForAnother",OUTSIDE_OF_ANY:"outsideOfAny"};function Dt(t,e,n){t.dispatchEvent(new CustomEvent(yt,{detail:{indexObj:e,draggedEl:n}}))}function xt(t,e,n){t.dispatchEvent(new CustomEvent(wt,{detail:{draggedEl:e,type:$t.LEFT_FOR_ANOTHER,theOtherDz:n}}))}function Ot(t,e,n){t.dispatchEvent(new CustomEvent(Et,{detail:{indexObj:e,draggedEl:n}}))}const Tt={DRAG_STARTED:"dragStarted",DRAGGED_ENTERED:yt,DRAGGED_ENTERED_ANOTHER:"dragEnteredAnother",DRAGGED_OVER_INDEX:Et,DRAGGED_LEFT:wt,DRAGGED_LEFT_ALL:"draggedLeftAll",DROPPED_INTO_ZONE:"droppedIntoZone",DROPPED_INTO_ANOTHER:"droppedIntoAnother",DROPPED_OUTSIDE_OF_ANY:"droppedOutsideOfAny",DRAG_STOPPED:"dragStopped"},kt={POINTER:"pointer",KEYBOARD:"keyboard"},Lt="isDndShadowItem",Ht="data-is-dnd-shadow-item-internal",At="data-is-dnd-shadow-item-hint",Mt="id:dnd-shadow-placeholder-0000",Ct="dnd-action-dragged-el";let St="id",Vt=0;function Nt(){Vt++}function Rt(){if(0===Vt)throw new Error("Bug! trying to decrement when there are no dropzones");Vt--}const It="undefined"==typeof window;function Pt(t){let e;const n=t.getBoundingClientRect(),r=getComputedStyle(t),o=r.transform;if(o){let i,s,l,d;if(o.startsWith("matrix3d("))e=o.slice(9,-1).split(/, /),i=+e[0],s=+e[5],l=+e[12],d=+e[13];else{if(!o.startsWith("matrix("))return n;e=o.slice(7,-1).split(/, /),i=+e[0],s=+e[3],l=+e[4],d=+e[5]}const a=r.transformOrigin,c=n.x-l-(1-i)*parseFloat(a),u=n.y-d-(1-s)*parseFloat(a.slice(a.indexOf(" ")+1)),g=i?n.width/i:t.offsetWidth,p=s?n.height/s:t.offsetHeight;return{x:c,y:u,width:g,height:p,top:u,right:c+g,bottom:u+p,left:c}}return n}function Ft(t){const e=Pt(t);return{top:e.top+window.scrollY,bottom:e.bottom+window.scrollY,left:e.left+window.scrollX,right:e.right+window.scrollX}}function Bt(t){const e=t.getBoundingClientRect();return{top:e.top+window.scrollY,bottom:e.bottom+window.scrollY,left:e.left+window.scrollX,right:e.right+window.scrollX}}function zt(t){return{x:(t.left+t.right)/2,y:(t.top+t.bottom)/2}}function Gt(t,e){return t.y<=e.bottom&&t.y>=e.top&&t.x>=e.left&&t.x<=e.right}function jt(t){return zt(Bt(t))}function Ut(t,e){return Gt(jt(t),Ft(e))}function Wt(t,e){const n=jt(t),r=jt(e);return o=n,i=r,Math.sqrt(Math.pow(o.x-i.x,2)+Math.pow(o.y-i.y,2));var o,i}let Yt;function Zt(){Yt=new Map}function qt(t){Yt.delete(t)}function Xt(t,e){if(!Ut(t,e))return null;const n=e.children;if(0===n.length)return{index:0,isProximityBased:!0};const r=function(t){const e=Array.from(t.children).findIndex((t=>t.getAttribute(Ht)));if(e>=0)return Yt.has(t)||Yt.set(t,new Map),Yt.get(t).set(e,Ft(t.children[e])),e}(e);for(let o=0;o<n.length;o++)if(Ut(t,n[o])){const n=Yt.has(e)&&Yt.get(e).get(o);return n&&!Gt(jt(t),n)?{index:r,isProximityBased:!1}:{index:o,isProximityBased:!1}}let o,i=Number.MAX_VALUE;for(let e=0;e<n.length;e++){const r=Wt(t,n[e]);r<i&&(i=r,o=e)}return{index:o,isProximityBased:!0}}Zt();function Kt(){let t;function e(){t={directionObj:void 0,stepPx:0}}function n(e){const{directionObj:r,stepPx:o}=t;r&&(e.scrollBy(r.x*o,r.y*o),window.requestAnimationFrame((()=>n(e))))}function r(t){return 25-t}return e(),{scrollIfNeeded:function(o,i){if(!i)return!1;const s=function(t,e){const n=Bt(e);return Gt(t,n)?{top:t.y-n.top,bottom:n.bottom-t.y,left:t.x-n.left,right:Math.min(n.right,document.documentElement.clientWidth)-t.x}:null}(o,i);if(null===s)return e(),!1;const l=!!t.directionObj;let[d,a]=[!1,!1];return i.scrollHeight>i.clientHeight&&(s.bottom<25?(d=!0,t.directionObj={x:0,y:1},t.stepPx=r(s.bottom)):s.top<25&&(d=!0,t.directionObj={x:0,y:-1},t.stepPx=r(s.top)),!l&&d)||i.scrollWidth>i.clientWidth&&(s.right<25?(a=!0,t.directionObj={x:1,y:0},t.stepPx=r(s.right)):s.left<25&&(a=!0,t.directionObj={x:-1,y:0},t.stepPx=r(s.left)),!l&&a)?(n(i),!0):(e(),!1)},resetScrolling:e}}function Jt(t){return JSON.stringify(t,null,2)}function Qt(t){if(!t)throw new Error("cannot get depth of a falsy node");return te(t,0)}function te(t,e=0){return t.parentElement?te(t.parentElement,e+1):e-1}const ee=200,ne=10,{scrollIfNeeded:re,resetScrolling:oe}=Kt();let ie;function se(t,e,n=ee){let r,o,i,s=!1;const l=Array.from(e).sort(((t,e)=>Qt(e)-Qt(t)));!function e(){const d=jt(t),a=re(d,r);if(!a&&i&&Math.abs(i.x-d.x)<ne&&Math.abs(i.y-d.y)<ne)return void(ie=window.setTimeout(e,n));if(function(t){const e=Bt(t);return e.right<0||e.left>document.documentElement.scrollWidth||e.bottom<0||e.top>document.documentElement.scrollHeight}(t))return void function(t){window.dispatchEvent(new CustomEvent(_t,{detail:{draggedEl:t}}))}(t);i=d;let c=!1;for(const e of l){a&&qt(r);const n=Xt(t,e);if(null===n)continue;const{index:i}=n;c=!0,e!==r?(r&&xt(r,t,e),Dt(e,n,t),r=e):i!==o&&(Ot(e,n,t),o=i);break}!c&&s&&r?(!function(t,e){t.dispatchEvent(new CustomEvent(wt,{detail:{draggedEl:e,type:$t.OUTSIDE_OF_ANY}}))}(r,t),r=void 0,o=void 0,s=!1):s=!0,ie=window.setTimeout(e,n)}()}const le=300;let de;function ae(t){const e=t.touches?t.touches[0]:t;de={x:e.clientX,y:e.clientY}}const{scrollIfNeeded:ce,resetScrolling:ue}=Kt();let ge;function pe(){if(de){ce(de,document.documentElement)&&Zt()}ge=window.setTimeout(pe,le)}const fe=Object.freeze({USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT:"USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT"}),he={[fe.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT]:!1};function me(t){if(!fe[t])throw new Error(`Can't get non existing feature flag ${t}! Supported flags: ${Object.keys(fe)}`);return he[t]}const ve=.2;function be(t){return`${t} ${ve}s ease`}function ye(t,e,n,r){we(e,t);const o=e.getBoundingClientRect(),i=t.getBoundingClientRect(),s=o.width-i.width,l=o.height-i.height;if(s||l){const e={left:(n-i.left)/i.width,top:(r-i.top)/i.height};me(fe.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT)||(t.style.height=`${o.height}px`,t.style.width=`${o.width}px`),t.style.left=parseFloat(t.style.left)-e.left*s+"px",t.style.top=parseFloat(t.style.top)-e.top*l+"px"}}function we(t,e){const n=window.getComputedStyle(t);Array.from(n).filter((t=>t.startsWith("background")||t.startsWith("padding")||t.startsWith("font")||t.startsWith("text")||t.startsWith("align")||t.startsWith("justify")||t.startsWith("display")||t.startsWith("flex")||t.startsWith("border")||"opacity"===t||"color"===t||"list-style-type"===t||me(fe.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT)&&("width"===t||"height"===t))).forEach((t=>e.style.setProperty(t,n.getPropertyValue(t),n.getPropertyPriority(t))))}function Ee(t,e){t.draggable=!1,t.ondragstart=()=>!1,e?(t.style.userSelect="",t.style.WebkitUserSelect="",t.style.cursor=""):(t.style.userSelect="none",t.style.WebkitUserSelect="none",t.style.cursor="grab")}function _e(t){t.style.display="none",t.style.position="fixed",t.style.zIndex="-5"}function $e(t,e=(()=>{}),n=(()=>[])){t.forEach((t=>{const r=e(t);Object.keys(r).forEach((e=>{t.style[e]=r[e]})),n(t).forEach((e=>t.classList.add(e)))}))}function De(t,e=(()=>{}),n=(()=>[])){t.forEach((t=>{const r=e(t);Object.keys(r).forEach((e=>{t.style[e]=""})),n(t).forEach((e=>t.classList.contains(e)&&t.classList.remove(e)))}))}const xe="--any--",Oe=100,Te=20,ke=3,Le={outline:"rgba(255, 255, 102, 0.7) solid 2px"},He="data-is-dnd-original-dragged-item";let Ae,Me,Ce,Se,Ve,Ne,Re,Ie,Pe,Fe,Be,ze=!1,Ge=!1,je=!1,Ue=[];const We=new Map,Ye=new Map,Ze=new WeakMap;function qe(t,e){We.get(e).delete(t),Rt(),0===We.get(e).size&&We.delete(e)}function Xe(){window.addEventListener("mousemove",ae),window.addEventListener("touchmove",ae),pe();const t=We.get(Se);for(const e of t)e.addEventListener(yt,Qe),e.addEventListener(wt,tn),e.addEventListener(Et,en);window.addEventListener(_t,rn);const e=Math.max(...Array.from(t.keys()).map((t=>Ye.get(t).dropAnimationDurationMs))),n=0===e?Te:Math.max(e,Oe);se(Me,t,1.07*n)}function Ke(){window.removeEventListener("mousemove",ae),window.removeEventListener("touchmove",ae),de=void 0,window.clearTimeout(ge),ue();const t=We.get(Se);for(const e of t)e.removeEventListener(yt,Qe),e.removeEventListener(wt,tn),e.removeEventListener(Et,en);window.removeEventListener(_t,rn),clearTimeout(ie),oe(),Zt()}function Je(t){return t.findIndex((t=>!!t[Lt]))}function Qe(t){let{items:e,dropFromOthersDisabled:n}=Ye.get(t.currentTarget);if(n&&t.currentTarget!==Ve)return;if(je=!1,e=e.filter((t=>t[St]!==Re[St])),Ve!==t.currentTarget){const t=Ye.get(Ve).items.filter((t=>!t[Lt]));bt(Ve,t,{trigger:Tt.DRAGGED_ENTERED_ANOTHER,id:Ce[St],source:kt.POINTER})}const{index:r,isProximityBased:o}=t.detail.indexObj,i=o&&r===t.currentTarget.children.length-1?r+1:r;Ie=t.currentTarget,e.splice(i,0,Re),bt(t.currentTarget,e,{trigger:Tt.DRAGGED_ENTERED,id:Ce[St],source:kt.POINTER})}function tn(t){if(!ze)return;const{items:e,dropFromOthersDisabled:n}=Ye.get(t.currentTarget);if(n&&t.currentTarget!==Ve&&t.currentTarget!==Ie)return;const r=Je(e);-1!==r&&e.splice(r,1),Ie=void 0;const{type:o,theOtherDz:i}=t.detail;if(o===$t.OUTSIDE_OF_ANY||o===$t.LEFT_FOR_ANOTHER&&i!==Ve&&Ye.get(i).dropFromOthersDisabled){je=!0,Ie=Ve;const t=Ye.get(Ve).items;t.splice(Ne,0,Re),bt(Ve,t,{trigger:Tt.DRAGGED_LEFT_ALL,id:Ce[St],source:kt.POINTER})}bt(t.currentTarget,e,{trigger:Tt.DRAGGED_LEFT,id:Ce[St],source:kt.POINTER})}function en(t){const{items:e,dropFromOthersDisabled:n}=Ye.get(t.currentTarget);if(n&&t.currentTarget!==Ve)return;je=!1;const{index:r}=t.detail.indexObj,o=Je(e);-1!==o&&e.splice(o,1),e.splice(r,0,Re),bt(t.currentTarget,e,{trigger:Tt.DRAGGED_OVER_INDEX,id:Ce[St],source:kt.POINTER})}function nn(t){t.preventDefault();const e=t.touches?t.touches[0]:t;Fe={x:e.clientX,y:e.clientY},Me.style.transform=`translate3d(${Fe.x-Pe.x}px, ${Fe.y-Pe.y}px, 0)`}function rn(){Ge=!0,window.removeEventListener("mousemove",nn),window.removeEventListener("touchmove",nn),window.removeEventListener("mouseup",rn),window.removeEventListener("touchend",rn),Ke(),function(t){t.style.cursor="grab"}(Me),Ie||(Ie=Ve);let{items:t,type:e}=Ye.get(Ie);De(We.get(e),(t=>Ye.get(t).dropTargetStyle),(t=>Ye.get(t).dropTargetClasses));let n=Je(t);-1===n&&(Ie===Ve?n=Ne:Ie.children.length>0&&(n=Ie.children.length-1)),t=t.map((t=>t[Lt]?Ce:t)),-1!==n&&function(t,e){const n=Pt(Ie.children[t]),r={x:n.left-parseFloat(Me.style.left),y:n.top-parseFloat(Me.style.top)},{dropAnimationDurationMs:o}=Ye.get(Ie),i=`transform ${o}ms ease`;Me.style.transition=Me.style.transition?Me.style.transition+","+i:i,Me.style.transform=`translate3d(${r.x}px, ${r.y}px, 0)`,window.setTimeout(e,o)}(n,(function(){var e;Be(),vt(Ie,t,{trigger:je?Tt.DROPPED_OUTSIDE_OF_ANY:Tt.DROPPED_INTO_ZONE,id:Ce[St],source:kt.POINTER}),Ie!==Ve&&vt(Ve,Ye.get(Ve).items,{trigger:Tt.DROPPED_INTO_ANOTHER,id:Ce[St],source:kt.POINTER}),-1!==n&&((e=Ie.children[n]).style.visibility="",e.removeAttribute(Ht)),function(){Me.remove(),Ae.remove(),Ue.length&&(Ue.forEach((({dz:t,destroy:e})=>{e(),t.remove()})),Ue=[]);Me=void 0,Ae=void 0,Ce=void 0,Se=void 0,Ve=void 0,Ne=void 0,Re=void 0,Ie=void 0,Pe=void 0,Fe=void 0,ze=!1,Ge=!1,Be=void 0,je=!1}()}))}function on(t,e){let n=!1;const r={items:void 0,type:void 0,flipDurationMs:0,dragDisabled:!1,morphDisabled:!1,dropFromOthersDisabled:!1,dropTargetStyle:Le,dropTargetClasses:[],transformDraggedElement:()=>{},centreDraggedOnCursor:!1};let o=new Map;function i(){window.removeEventListener("mousemove",l),window.removeEventListener("touchmove",l),window.removeEventListener("mouseup",s),window.removeEventListener("touchend",s)}function s(){i(),Ae=void 0,Pe=void 0,Fe=void 0}function l(t){t.preventDefault();const e=t.touches?t.touches[0]:t;Fe={x:e.clientX,y:e.clientY},(Math.abs(Fe.x-Pe.x)>=ke||Math.abs(Fe.y-Pe.y)>=ke)&&(i(),function(){ze=!0;const t=o.get(Ae);Ne=t,Ve=Ae.parentElement;const e=Ve.closest("dialog")||Ve.getRootNode(),n=e.body||e,{items:i,type:s,centreDraggedOnCursor:l}=r;function d(){Me.parentElement?window.requestAnimationFrame(d):(n.appendChild(Me),Me.focus(),Xe(),_e(Ae),n.appendChild(Ae))}Ce=i[t],Se=s,Re=function(t){return{...t,[Lt]:!0,[St]:Mt}}(Ce),Me=function(t,e){const n=t.getBoundingClientRect(),r=function(t){const e=t.cloneNode(!0),n=[],r="SELECT"===t.tagName,o=r?[t]:[...t.querySelectorAll("select")];for(const t of o)n.push(t.value);if(o.length>0){const t=r?[e]:[...e.querySelectorAll("select")];for(let e=0;e<t.length;e++){const r=t[e],o=n[e],i=r.querySelector(`option[value="${o}"`);i&&i.setAttribute("selected",!0)}}const i="CANVAS"===t.tagName,s=i?[t]:[...t.querySelectorAll("canvas")];if(s.length>0){const t=i?[e]:[...e.querySelectorAll("canvas")];for(let e=0;e<t.length;e++){const n=s[e],r=t[e];r.width=n.width,r.height=n.height,r.getContext("2d").drawImage(n,0,0)}}return e}(t);we(t,r),r.id=Ct,r.style.position="fixed";let o=n.top,i=n.left;if(r.style.top=`${o}px`,r.style.left=`${i}px`,e){const t=zt(n);o-=t.y-e.y,i-=t.x-e.x,window.setTimeout((()=>{r.style.top=`${o}px`,r.style.left=`${i}px`}),0)}return r.style.margin="0",r.style.boxSizing="border-box",r.style.height=`${n.height}px`,r.style.width=`${n.width}px`,r.style.transition=`${be("top")}, ${be("left")}, ${be("background-color")}, ${be("opacity")}, ${be("color")} `,window.setTimeout((()=>r.style.transition+=`, ${be("width")}, ${be("height")}`),0),r.style.zIndex="9999",r.style.cursor="grabbing",r}(Ae,l&&Fe),Ae.setAttribute(He,!0),window.requestAnimationFrame(d),$e(Array.from(We.get(r.type)).filter((t=>t===Ve||!Ye.get(t).dropFromOthersDisabled)),(t=>Ye.get(t).dropTargetStyle),(t=>Ye.get(t).dropTargetClasses)),i.splice(t,1,Re),Be=function(t){const e=t.style.minHeight;t.style.minHeight=window.getComputedStyle(t).getPropertyValue("height");const n=t.style.minWidth;return t.style.minWidth=window.getComputedStyle(t).getPropertyValue("width"),function(){t.style.minHeight=e,t.style.minWidth=n}}(Ve),bt(Ve,i,{trigger:Tt.DRAG_STARTED,id:Ce[St],source:kt.POINTER}),window.addEventListener("mousemove",nn,{passive:!1}),window.addEventListener("touchmove",nn,{passive:!1,capture:!1}),window.addEventListener("mouseup",rn,{passive:!1}),window.addEventListener("touchend",rn,{passive:!1})}())}function d(t){if(t.target!==t.currentTarget&&(void 0!==t.target.value||t.target.isContentEditable))return;if(t.button)return;if(ze)return;t.stopPropagation();const e=t.touches?t.touches[0]:t;Pe={x:e.clientX,y:e.clientY},Fe={...Pe},Ae=t.currentTarget,window.addEventListener("mousemove",l,{passive:!1}),window.addEventListener("touchmove",l,{passive:!1,capture:!1}),window.addEventListener("mouseup",s,{passive:!1}),window.addEventListener("touchend",s,{passive:!1})}function a({items:e,flipDurationMs:i=0,type:s=xe,dragDisabled:l=!1,morphDisabled:a=!1,dropFromOthersDisabled:c=!1,dropTargetStyle:u=Le,dropTargetClasses:g=[],transformDraggedElement:p=(()=>{}),centreDraggedOnCursor:f=!1}){function h(t,e){return Ye.get(t)?Ye.get(t)[e]:r[e]}var m,v;r.dropAnimationDurationMs=i,r.type&&s!==r.type&&qe(t,r.type),r.type=s,r.items=[...e],r.dragDisabled=l,r.morphDisabled=a,r.transformDraggedElement=p,r.centreDraggedOnCursor=f,!n||!ze||Ge||function(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!{}.hasOwnProperty.call(e,n)||e[n]!==t[n])return!1;return!0}(u,r.dropTargetStyle)&&function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}(g,r.dropTargetClasses)||(De([t],(()=>r.dropTargetStyle),(()=>g)),$e([t],(()=>u),(()=>g))),r.dropTargetStyle=u,r.dropTargetClasses=[...g],n&&ze&&r.dropFromOthersDisabled!==c&&(c?De([t],(t=>h(t,"dropTargetStyle")),(t=>h(t,"dropTargetClasses"))):$e([t],(t=>h(t,"dropTargetStyle")),(t=>h(t,"dropTargetClasses")))),r.dropFromOthersDisabled=c,Ye.set(t,r),m=t,v=s,We.has(v)||We.set(v,new Set),We.get(v).has(m)||(We.get(v).add(m),Nt());const b=Je(r.items);for(let e=0;e<t.children.length;e++){const i=t.children[e];Ee(i,l),e!==b?(i.removeEventListener("mousedown",Ze.get(i)),i.removeEventListener("touchstart",Ze.get(i)),l||(i.addEventListener("mousedown",d),i.addEventListener("touchstart",d),Ze.set(i,d)),o.set(i,e),n||(n=!0)):(r.transformDraggedElement(Me,Ce,e),a||ye(Me,i,Fe.x,Fe.y),(y=i).style.visibility="hidden",y.setAttribute(Ht,"true"))}var y}return a(e),{update:t=>{a(t)},destroy:()=>{function e(){qe(t,Ye.get(t).type),Ye.delete(t)}var n,r;ze&&!t.closest(`[${He}]`)?(n=t,r=e,Ue.push({dz:n,destroy:r}),window.requestAnimationFrame((()=>{_e(n),document.body.appendChild(n)}))):e()}}}const sn={DND_ZONE_ACTIVE:"dnd-zone-active",DND_ZONE_DRAG_DISABLED:"dnd-zone-drag-disabled"},ln={[sn.DND_ZONE_ACTIVE]:"Tab to one the items and press space-bar or enter to start dragging it",[sn.DND_ZONE_DRAG_DISABLED]:"This is a disabled drag and drop list"},dn="dnd-action-aria-alert";let an;function cn(){an||(an=document.createElement("div"),an.id=dn,an.style.position="fixed",an.style.bottom="0",an.style.left="0",an.style.zIndex="-5",an.style.opacity="0",an.style.height="0",an.style.width="0",an.setAttribute("role","alert"),document.body.prepend(an),Object.entries(ln).forEach((([t,e])=>document.body.prepend(function(t,e){const n=document.createElement("div");return n.id=t,n.innerHTML=`<p>${e}</p>`,n.style.display="none",n.style.position="fixed",n.style.zIndex="-5",n}(t,e)))))}function un(t){if(It)return;an||cn(),an.innerHTML="";const e=document.createTextNode(t);an.appendChild(e),an.style.display="none",an.style.display="inline"}const gn="--any--",pn={outline:"rgba(255, 255, 102, 0.7) solid 2px"};let fn,hn,mn,vn,bn=!1,yn="",wn="";const En=new WeakSet,_n=new WeakMap,$n=new WeakMap,Dn=new Map,xn=new Map,On=new Map;let Tn;function kn(t,e){0===On.size&&(Tn=It?null:("complete"===document.readyState?cn():window.addEventListener("DOMContentLoaded",cn),{...sn}),window.addEventListener("keydown",Hn),window.addEventListener("click",An)),On.has(e)||On.set(e,new Set),On.get(e).has(t)||(On.get(e).add(t),Nt())}function Ln(t,e){hn===t&&Sn(),On.get(e).delete(t),Rt(),0===On.get(e).size&&On.delete(e),0===On.size&&(window.removeEventListener("keydown",Hn),window.removeEventListener("click",An),Tn=void 0,!It&&an&&(Object.keys(ln).forEach((t=>document.getElementById(t)?.remove())),an.remove(),an=void 0))}function Hn(t){if(bn&&"Escape"===t.key)Sn()}function An(){bn&&(En.has(document.activeElement)||Sn())}function Mn(t){if(!bn)return;const e=t.currentTarget;if(e===hn)return;yn=e.getAttribute("aria-label")||"";const{items:n}=xn.get(hn),r=n.find((t=>t[St]===vn)),o=n.indexOf(r),i=n.splice(o,1)[0],{items:s,autoAriaDisabled:l}=xn.get(e);e.getBoundingClientRect().top<hn.getBoundingClientRect().top||e.getBoundingClientRect().left<hn.getBoundingClientRect().left?(s.push(i),l||un(`Moved item ${wn} to the end of the list ${yn}`)):(s.unshift(i),l||un(`Moved item ${wn} to the beginning of the list ${yn}`));vt(hn,n,{trigger:Tt.DROPPED_INTO_ANOTHER,id:vn,source:kt.KEYBOARD}),vt(e,s,{trigger:Tt.DROPPED_INTO_ZONE,id:vn,source:kt.KEYBOARD}),hn=e}function Cn(){Dn.forEach((({update:t},e)=>t(xn.get(e))))}function Sn(t=!0){xn.get(hn).autoAriaDisabled||un(`Stopped dragging item ${wn}`),En.has(document.activeElement)&&document.activeElement.blur(),t&&bt(hn,xn.get(hn).items,{trigger:Tt.DRAG_STOPPED,id:vn,source:kt.KEYBOARD}),De(On.get(fn),(t=>xn.get(t).dropTargetStyle),(t=>xn.get(t).dropTargetClasses)),mn=null,vn=null,wn="",fn=null,hn=null,yn="",bn=!1,Cn()}function Vn(t,e){const n={items:void 0,type:void 0,dragDisabled:!1,zoneTabIndex:0,zoneItemTabIndex:0,dropFromOthersDisabled:!1,dropTargetStyle:pn,dropTargetClasses:[],autoAriaDisabled:!1};function r(t,e,n){t.length<=1||t.splice(n,1,t.splice(e,1,t[n])[0])}function o(e){switch(e.key){case"Enter":case" ":if((void 0!==e.target.disabled||e.target.href||e.target.isContentEditable)&&!En.has(e.target))return;e.preventDefault(),e.stopPropagation(),bn?Sn():i(e);break;case"ArrowDown":case"ArrowRight":{if(!bn)return;e.preventDefault(),e.stopPropagation();const{items:o}=xn.get(t),i=Array.from(t.children),s=i.indexOf(e.currentTarget);s<i.length-1&&(n.autoAriaDisabled||un(`Moved item ${wn} to position ${s+2} in the list ${yn}`),r(o,s,s+1),vt(t,o,{trigger:Tt.DROPPED_INTO_ZONE,id:vn,source:kt.KEYBOARD}));break}case"ArrowUp":case"ArrowLeft":{if(!bn)return;e.preventDefault(),e.stopPropagation();const{items:o}=xn.get(t),i=Array.from(t.children).indexOf(e.currentTarget);i>0&&(n.autoAriaDisabled||un(`Moved item ${wn} to position ${i} in the list ${yn}`),r(o,i,i-1),vt(t,o,{trigger:Tt.DROPPED_INTO_ZONE,id:vn,source:kt.KEYBOARD}));break}}}function i(e){!function(e){const{items:r}=xn.get(t),o=Array.from(t.children),i=o.indexOf(e);mn=e,mn.tabIndex=n.zoneItemTabIndex,vn=r[i][St],wn=o[i].getAttribute("aria-label")||""}(e.currentTarget),hn=t,fn=n.type,bn=!0;const r=Array.from(On.get(n.type)).filter((t=>t===hn||!xn.get(t).dropFromOthersDisabled));if($e(r,(t=>xn.get(t).dropTargetStyle),(t=>xn.get(t).dropTargetClasses)),!n.autoAriaDisabled){let t=`Started dragging item ${wn}. Use the arrow keys to move it within its list ${yn}`;r.length>1&&(t+=", or tab to another list in order to move the item into it"),un(t)}bt(t,xn.get(t).items,{trigger:Tt.DRAG_STARTED,id:vn,source:kt.KEYBOARD}),Cn()}function s(t){bn&&t.currentTarget!==mn&&(t.stopPropagation(),Sn(!1),i(t))}function l({items:e=[],type:r=gn,dragDisabled:i=!1,zoneTabIndex:l=0,zoneItemTabIndex:d=0,dropFromOthersDisabled:a=!1,dropTargetStyle:c=pn,dropTargetClasses:u=[],autoAriaDisabled:g=!1}){n.items=[...e],n.dragDisabled=i,n.dropFromOthersDisabled=a,n.zoneTabIndex=l,n.zoneItemTabIndex=d,n.dropTargetStyle=c,n.dropTargetClasses=u,n.autoAriaDisabled=g,n.type&&r!==n.type&&Ln(t,n.type),n.type=r,kn(t,r),g||(t.setAttribute("aria-disabled",i),t.setAttribute("role","list"),t.setAttribute("aria-describedby",i?Tn.DND_ZONE_DRAG_DISABLED:Tn.DND_ZONE_ACTIVE)),xn.set(t,n),t.tabIndex=bn?t===hn||mn.contains(t)||n.dropFromOthersDisabled||hn&&n.type!==xn.get(hn).type?-1:0:n.zoneTabIndex,t.addEventListener("focus",Mn);for(let e=0;e<t.children.length;e++){const r=t.children[e];En.add(r),r.tabIndex=bn?-1:n.zoneItemTabIndex,g||r.setAttribute("role","listitem"),r.removeEventListener("keydown",_n.get(r)),r.removeEventListener("click",$n.get(r)),i||(r.addEventListener("keydown",o),_n.set(r,o),r.addEventListener("click",s),$n.set(r,s)),bn&&n.items[e][St]===vn&&(mn=r,mn.tabIndex=n.zoneItemTabIndex,r.focus())}}l(e);const d={update:t=>{l(t)},destroy:()=>{Ln(t,n.type),xn.delete(t),Dn.delete(t)}};return Dn.set(t,d),d}function Nn(t,e){if(function(t){return!!t.closest(`[${At}="true"]`)}(t))return{update:()=>{},destroy:()=>{}};Rn(e);const n=on(t,e),r=Vn(t,e);return{update:t=>{Rn(t),n.update(t),r.update(t)},destroy:()=>{n.destroy(),r.destroy()}}}function Rn(t){const{items:e,flipDurationMs:n,type:r,dragDisabled:o,morphDisabled:i,dropFromOthersDisabled:s,zoneTabIndex:l,zoneItemTabIndex:d,dropTargetStyle:a,dropTargetClasses:c,transformDraggedElement:u,autoAriaDisabled:g,centreDraggedOnCursor:p,...f}=t;if(Object.keys(f).length>0&&console.warn("dndzone will ignore unknown options",f),!e)throw new Error("no 'items' key provided to dndzone");const h=e.find((t=>!{}.hasOwnProperty.call(t,St)));if(h)throw new Error(`missing '${St}' property for item ${Jt(h)}`);if(c&&!Array.isArray(c))throw new Error(`dropTargetClasses should be an array but instead it is a ${typeof c}, ${Jt(c)}`);if(l&&!In(l))throw new Error(`zoneTabIndex should be a number but instead it is a ${typeof l}, ${Jt(l)}`);if(d&&!In(d))throw new Error(`zoneItemTabIndex should be a number but instead it is a ${typeof d}, ${Jt(d)}`)}function In(t){return!isNaN(t)&&(0|(e=parseFloat(t)))===e;var e}function Pn(e){let n,r,o,i,s;return{c(){n=y("label"),r=y("input"),o=y("span"),x(r,"type","checkbox"),r.checked=e[0],x(r,"name",e[1]),x(r,"id",e[1]),x(n,"class","switch")},m(t,l){m(t,n,l),p(n,r),p(n,o),i||(s=D(r,"input",e[2]),i=!0)},p(t,[e]){1&e&&(r.checked=t[0]),2&e&&x(r,"name",t[1]),2&e&&x(r,"id",t[1])},i:t,o:t,d(t){t&&v(n),i=!1,s()}}}function Fn(t,e,n){let{value:r=!1}=e,{name:o}=e;const i=P();return t.$$set=t=>{"value"in t&&n(0,r=t.value),"name"in t&&n(1,o=t.name)},[r,o,function(){n(0,r=!r),i("input",{value:r})}]}class Bn extends ct{constructor(t){super(),at(this,t,Fn,Pn,s,{value:0,name:1})}}function zn(t,e,n){const r=t.slice();return r[7]=e[n],r}function Gn(t){let e,n;return{c(){e=y("p"),n=E(t[1])},m(t,r){m(t,e,r),p(e,n)},p(t,e){2&e&&O(n,t[1])},d(t){t&&v(e)}}}function jn(t){let e,n,r,o,i=t[7].label+"";return{c(){e=y("option"),n=E(i),r=_(),e.__value=o=t[7].id,e.value=e.__value},m(t,o){m(t,e,o),p(e,n),p(e,r)},p(t,r){4&r&&i!==(i=t[7].label+"")&&O(n,i),4&r&&o!==(o=t[7].id)&&(e.__value=o,e.value=e.__value)},d(t){t&&v(e)}}}function Un(e){let n,r,o,i,s,l=e[1]&&Gn(e),d=e[2],a=[];for(let t=0;t<d.length;t+=1)a[t]=jn(zn(e,d,t));return{c(){n=y("label"),l&&l.c(),r=_(),o=y("select");for(let t=0;t<a.length;t+=1)a[t].c();x(n,"class","shgrid-pkg_select-label")},m(t,d){m(t,n,d),l&&l.m(n,null),p(n,r),p(n,o);for(let t=0;t<a.length;t+=1)a[t]&&a[t].m(o,null);k(o,e[0]),i||(s=D(o,"input",e[4]),i=!0)},p(t,[e]){if(t[1]?l?l.p(t,e):(l=Gn(t),l.c(),l.m(n,r)):l&&(l.d(1),l=null),4&e){let n;for(d=t[2],n=0;n<d.length;n+=1){const r=zn(t,d,n);a[n]?a[n].p(r,e):(a[n]=jn(r),a[n].c(),a[n].m(o,null))}for(;n<a.length;n+=1)a[n].d(1);a.length=d.length}5&e&&k(o,t[0])},i:t,o:t,d(t){t&&v(n),l&&l.d(),b(a,t),i=!1,s()}}}function Wn(t,e,n){let{label:r=null}=e,{value:o}=e,{options:i}=e;const s=P();function l(t){n(0,o=t),s("input",{value:o})}return t.$$set=t=>{"label"in t&&n(1,r=t.label),"value"in t&&n(0,o=t.value),"options"in t&&n(2,i=t.options)},[o,r,i,l,t=>l(t.currentTarget.value)]}class Yn extends ct{constructor(t){super(),at(this,t,Wn,Un,s,{label:1,value:0,options:2})}}function Zn(t,e,n){const r=t.slice();return r[15]=e[n],r[17]=n,r}function qn(e,n){let r,o,i,s,l,d,a,c,u,g,f,h,b,$,T,k,L,H,A,M=0===n[17]?"Sort by":"Then by",C=t;function S(){return n[9](n[17])}return g=new Yn({props:{value:n[15].key.toString(),options:n[0].columns}}),g.$on("input",(function(...t){return n[6](n[17],...t)})),h=new Yn({props:{value:n[15].dir,options:[{id:"asc",label:"Ascending"},{id:"desc",label:"Descending"}]}}),h.$on("input",(function(...t){return n[7](n[17],...t)})),h.$on("input",n[8]),{key:e,first:null,c(){r=y("li"),o=y("p"),i=E(M),s=_(),l=w("svg"),d=w("title"),a=E("drag"),c=w("path"),u=_(),it(g.$$.fragment),f=_(),it(h.$$.fragment),b=_(),$=y("button"),$.innerHTML='<svg class="shgrid-pkg_sorter-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Remove sorting layer</title><path d="M19,13H5V11H19V13Z"></path></svg>',T=_(),x(c,"d","M7,19V17H9V19H7M11,19V17H13V19H11M15,19V17H17V19H15M7,15V13H9V15H7M11,15V13H13V15H11M15,15V13H17V15H15M7,11V9H9V11H7M11,11V9H13V11H11M15,11V9H17V11H15M7,7V5H9V7H7M11,7V5H13V7H11M15,7V5H17V7H15Z"),x(l,"class","shgrid-pkg_sorter-svg"),x(l,"xmlns","http://www.w3.org/2000/svg"),x(l,"viewBox","0 0 24 24"),x($,"class","shgrid-pkg_sorter-btn-error"),x(r,"class","shgrid-pkg_option-sorter-row"),this.first=r},m(t,e){m(t,r,e),p(r,o),p(o,i),p(r,s),p(r,l),p(l,d),p(d,a),p(l,c),p(r,u),st(g,r,null),p(r,f),st(h,r,null),p(r,b),p(r,$),p(r,T),L=!0,H||(A=D($,"click",S),H=!0)},p(t,e){n=t,(!L||8&e)&&M!==(M=0===n[17]?"Sort by":"Then by")&&O(i,M);const r={};8&e&&(r.value=n[15].key.toString()),1&e&&(r.options=n[0].columns),g.$set(r);const o={};8&e&&(o.value=n[15].dir),h.$set(o)},r(){k=r.getBoundingClientRect()},f(){N(r),C()},a(){C(),C=V(r,k,ft,{duration:n[2]})},i(t){L||(et(g.$$.fragment,t),et(h.$$.fragment,t),L=!0)},o(t){nt(g.$$.fragment,t),nt(h.$$.fragment,t),L=!1},d(t){t&&v(r),lt(g),lt(h),H=!1,A()}}}function Xn(t){let e,n,r,s,d,a,c,u,g,f,h=[],b=new Map,w=t[3];const E=t=>t[15].id;for(let e=0;e<w.length;e+=1){let n=Zn(t,w,e),r=E(n);b.set(r,h[e]=qn(r,n))}return{c(){e=y("div"),n=y("p"),n.textContent="Sorting",r=_(),s=y("ul");for(let t=0;t<h.length;t+=1)h[t].c();a=_(),c=y("button"),c.innerHTML='<span>Add Sorting Layer</span> \n\t\t<svg class="shgrid-pkg_sorter-add-sorter-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Add sorting layer</title><path d="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z"></path></svg>',x(n,"class","shgrid-pkg_sorters-subtitle"),x(c,"class","shgrid-pkg_btn-add-sorter"),x(e,"class","shgrid-pkg_options-sorters")},m(o,i){m(o,e,i),p(e,n),p(e,r),p(e,s);for(let t=0;t<h.length;t+=1)h[t]&&h[t].m(s,null);p(e,a),p(e,c),u=!0,g||(f=[l(d=Nn.call(null,s,{items:t[3],flipDurationMs:t[2],dropFromOthersDisabled:!0})),D(s,"consider",t[10]),D(s,"finalize",t[11]),D(c,"click",t[12])],g=!0)},p(t,[e]){if(41&e){w=t[3],Q();for(let t=0;t<h.length;t+=1)h[t].r();h=ot(h,e,E,1,t,w,b,s,rt,qn,null,Zn);for(let t=0;t<h.length;t+=1)h[t].a();tt()}d&&i(d.update)&&12&e&&d.update.call(null,{items:t[3],flipDurationMs:t[2],dropFromOthersDisabled:!0})},i(t){if(!u){for(let t=0;t<w.length;t+=1)et(h[t]);u=!0}},o(t){for(let t=0;t<h.length;t+=1)nt(h[t]);u=!1},d(t){t&&v(e);for(let t=0;t<h.length;t+=1)h[t].d();g=!1,o(f)}}}function Kn(t,e,n){let{builder:r}=e,{rerender:o}=e,{flipDurationMs:i=300}=e;const s=t=>t.sorters.map(((t,e)=>({key:t[0],dir:t[1],id:e})));let l=s(r);function d(){const t=r.columns?.[0]?.id??"";r.sorters.push([t,"asc"]),r.buildData(),n(3,l=s(r))}function a(t){r.sorters.splice(t,1),r.buildData(),n(3,l=s(r))}return t.$$set=t=>{"builder"in t&&n(0,r=t.builder),"rerender"in t&&n(1,o=t.rerender),"flipDurationMs"in t&&n(2,i=t.flipDurationMs)},t.$$.update=()=>{t.$$.dirty},[r,o,i,l,d,a,(t,e)=>{n(0,r.sorters[t][0]=e.detail.value,r),r.buildData()},(t,e)=>{n(0,r.sorters[t][1]=e.detail.value,r),r.buildData()},()=>r.buildData(),t=>a(t),t=>n(3,l=t.detail.items),t=>{n(3,l=t.detail.items),n(0,r.sorters=l.map((t=>[t.key,t.dir])),r),o()},()=>d()]}class Jn extends ct{constructor(t){super(),at(this,t,Kn,Xn,s,{builder:0,rerender:1,flipDurationMs:2})}}function Qn(t,e,n){const r=t.slice();return r[7]=e[n],r[8]=e,r[9]=n,r}function tr(e,n){let r,o,i,s,l,d,a,c,u,g,f,h,b,$,D=n[7].label+"",T=t;return f=new Bn({props:{name:n[7].id.toString(),value:!n[7].hidden}}),f.$on("input",(function(){return n[3](n[7],n[8],n[9])})),{key:e,first:null,c(){r=y("li"),o=w("svg"),i=w("title"),s=E("drag"),l=w("path"),d=_(),a=y("label"),c=E(D),g=_(),it(f.$$.fragment),h=_(),x(l,"d","M7,19V17H9V19H7M11,19V17H13V19H11M15,19V17H17V19H15M7,15V13H9V15H7M11,15V13H13V15H11M15,15V13H17V15H15M7,11V9H9V11H7M11,11V9H13V11H11M15,11V9H17V11H15M7,7V5H9V7H7M11,7V5H13V7H11M15,7V5H17V7H15Z"),x(o,"class","shgrid-pkg_options-column-svg"),x(o,"xmlns","http://www.w3.org/2000/svg"),x(o,"viewBox","0 0 24 24"),x(a,"for",u=n[7].id.toString()),x(r,"class","shgrid-pkg_column-option-row"),this.first=r},m(t,e){m(t,r,e),p(r,o),p(o,i),p(i,s),p(o,l),p(r,d),p(r,a),p(a,c),p(r,g),st(f,r,null),p(r,h),$=!0},p(t,e){n=t,(!$||4&e)&&D!==(D=n[7].label+"")&&O(c,D),(!$||4&e&&u!==(u=n[7].id.toString()))&&x(a,"for",u);const r={};4&e&&(r.name=n[7].id.toString()),4&e&&(r.value=!n[7].hidden),f.$set(r)},r(){b=r.getBoundingClientRect()},f(){N(r),T()},a(){T(),T=V(r,b,ft,{duration:nr})},i(t){$||(et(f.$$.fragment,t),$=!0)},o(t){nt(f.$$.fragment,t),$=!1},d(t){t&&v(r),lt(f)}}}function er(t){let e,n,r,s,d,a,c,u,g,f,h,b=[],w=new Map,E=t[2];const $=t=>t[7].id;for(let e=0;e<E.length;e+=1){let n=Qn(t,E,e),r=$(n);w.set(r,b[e]=tr(r,n))}return u=new Jn({props:{builder:t[0],rerender:t[1]}}),{c(){e=y("div"),n=y("div"),r=y("h4"),r.textContent="Columns",s=_(),d=y("ul");for(let t=0;t<b.length;t+=1)b[t].c();c=_(),it(u.$$.fragment),x(r,"class","shgrid-pkg_columns-subtitle"),x(n,"class","shgrid-pkg_options-columns"),x(e,"class","shgrid-pkg_option-block")},m(o,i){m(o,e,i),p(e,n),p(n,r),p(n,s),p(n,d);for(let t=0;t<b.length;t+=1)b[t]&&b[t].m(d,null);p(e,c),st(u,e,null),g=!0,f||(h=[l(a=Nn.call(null,d,{items:t[2],flipDurationMs:nr,dropFromOthersDisabled:!0})),D(d,"consider",t[4]),D(d,"finalize",t[5])],f=!0)},p(t,[e]){if(5&e){E=t[2],Q();for(let t=0;t<b.length;t+=1)b[t].r();b=ot(b,e,$,1,t,E,w,d,rt,tr,null,Qn);for(let t=0;t<b.length;t+=1)b[t].a();tt()}a&&i(a.update)&&4&e&&a.update.call(null,{items:t[2],flipDurationMs:nr,dropFromOthersDisabled:!0});const n={};1&e&&(n.builder=t[0]),2&e&&(n.rerender=t[1]),u.$set(n)},i(t){if(!g){for(let t=0;t<E.length;t+=1)et(b[t]);et(u.$$.fragment,t),g=!0}},o(t){for(let t=0;t<b.length;t+=1)nt(b[t]);nt(u.$$.fragment,t),g=!1},d(t){t&&v(e);for(let t=0;t<b.length;t+=1)b[t].d();lt(u),f=!1,o(h)}}}const nr=300;function rr(t,e,n){let{builder:r}=e,{rerender:o}=e,i=r.columns;!function(t){t.sorters.map(((t,e)=>({id:e,key:t[0],dir:t[1]})))}(r);return t.$$set=t=>{"builder"in t&&n(0,r=t.builder),"rerender"in t&&n(1,o=t.rerender)},[r,o,i,(t,e,o)=>{n(2,e[o].hidden=!t.hidden,i),r.buildData()},t=>{n(2,i=t.detail.items),o()},t=>{n(0,r.columns=t.detail.items,r),n(2,i=[...r.columns]),o()}]}class or extends ct{constructor(t){super(),at(this,t,rr,er,s,{builder:0,rerender:1})}}function ir(t,e,n){const r=t.slice();return r[10]=e[n],r}function sr(t){let e,n,r,i,s=t[0].paginator.limitOptions,l=[];for(let e=0;e<s.length;e+=1)l[e]=lr(ir(t,s,e));return{c(){e=y("div"),n=y("select");for(let t=0;t<l.length;t+=1)l[t].c();x(n,"class","shgrid-pkg_pagination-select"),void 0===t[0].paginator.limit&&W((()=>t[7].call(n))),T(e,"position","relative")},m(o,s){m(o,e,s),p(e,n);for(let t=0;t<l.length;t+=1)l[t]&&l[t].m(n,null);k(n,t[0].paginator.limit,!0),r||(i=[D(n,"change",t[6]),D(n,"change",t[7])],r=!0)},p(t,e){if(1&e){let r;for(s=t[0].paginator.limitOptions,r=0;r<s.length;r+=1){const o=ir(t,s,r);l[r]?l[r].p(o,e):(l[r]=lr(o),l[r].c(),l[r].m(n,null))}for(;r<l.length;r+=1)l[r].d(1);l.length=s.length}1&e&&k(n,t[0].paginator.limit)},d(t){t&&v(e),b(l,t),r=!1,o(i)}}}function lr(t){let e,n,r,o=t[10]+"";return{c(){e=y("option"),n=E(o),e.__value=r=t[10],e.value=e.__value},m(t,r){m(t,e,r),p(e,n)},p(t,i){1&i&&o!==(o=t[10]+"")&&O(n,o),1&i&&r!==(r=t[10])&&(e.__value=r,e.value=e.__value)},d(t){t&&v(e)}}}function dr(e){let n,r,i,s,l,d,a,c,u,g,f,h,b,$,T,k,L,H,A,M,C,S,V,N,R,I,P,F,B,z,G=e[2]+1+"",j=e[3]+1+"",U=null!==e[0].paginator.limitOptions&&sr(e);return{c(){n=y("form"),r=y("div"),i=y("button"),s=w("svg"),l=w("title"),d=E("Previous Page"),a=w("path"),u=_(),g=y("p"),f=E(G),h=E(" of "),b=E(j),$=_(),T=y("button"),k=w("svg"),L=w("title"),H=E("Next Page"),A=w("path"),C=_(),U&&U.c(),S=_(),V=y("div"),N=y("input"),P=_(),F=y("button"),F.textContent="Go â†’",x(a,"d","M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z"),x(s,"xmlns","http://www.w3.org/2000/svg"),x(s,"viewBox","0 0 24 24"),x(s,"class","shgrid-pkg_paginator-btn-svg"),x(i,"type","button"),i.disabled=c=e[2]<1,x(i,"class","shgrid-pkg_pagination-btn"),x(g,"class","shgrid-pkg_paginator-text"),x(A,"d","M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z"),x(k,"xmlns","http://www.w3.org/2000/svg"),x(k,"viewBox","0 0 24 24"),x(k,"class","shgrid-pkg_paginator-btn-svg"),x(T,"type","button"),T.disabled=M=e[2]>=e[3],x(T,"class","shgrid-pkg_pagination-btn"),x(r,"class","shgrid-pkg_pagination-btns"),x(N,"class","shgrid-pkg_pagination-search-input"),x(N,"type","number"),N.value=R=e[2]+1,x(N,"max",I=1+e[0].count/e[0].paginator.limit),x(N,"min",1),x(F,"class","shgrid-pkg_pagination-search-btn"),x(F,"type","button"),x(V,"class","shgrid-pkg_pagination-search-wrapper"),x(n,"class","shgrid-pkg_pagination")},m(t,o){m(t,n,o),p(n,r),p(r,i),p(i,s),p(s,l),p(l,d),p(s,a),p(r,u),p(r,g),p(g,f),p(g,h),p(g,b),p(r,$),p(r,T),p(T,k),p(k,L),p(L,H),p(k,A),p(n,C),U&&U.m(n,null),p(n,S),p(n,V),p(V,N),p(V,P),p(V,F),B||(z=[D(i,"click",e[4]),D(T,"click",e[5]),D(N,"input",e[8]),D(F,"click",e[9])],B=!0)},p(t,[e]){4&e&&c!==(c=t[2]<1)&&(i.disabled=c),4&e&&G!==(G=t[2]+1+"")&&O(f,G),8&e&&j!==(j=t[3]+1+"")&&O(b,j),12&e&&M!==(M=t[2]>=t[3])&&(T.disabled=M),null!==t[0].paginator.limitOptions?U?U.p(t,e):(U=sr(t),U.c(),U.m(n,S)):U&&(U.d(1),U=null),4&e&&R!==(R=t[2]+1)&&N.value!==R&&(N.value=R),1&e&&I!==(I=1+t[0].count/t[0].paginator.limit)&&x(N,"max",I)},i:t,o:t,d(t){t&&v(n),U&&U.d(),B=!1,o(z)}}}function ar(t,e,n){let r,o,{builder:i}=e,s=r??0;return t.$$set=t=>{"builder"in t&&n(0,i=t.builder)},t.$$.update=()=>{1&t.$$.dirty&&n(2,r=Math.floor(i.paginator.offset/i.paginator.limit)),1&t.$$.dirty&&n(3,o=Math.floor(i.count/i.paginator.limit))},[i,s,r,o,()=>i.setPage(r-1),()=>i.setPage(r+1),t=>i.buildData(),function(){i.paginator.limit=function(t){const e=t.querySelector(":checked");return e&&e.__value}(this),n(0,i)},t=>n(1,s=+t.currentTarget.value-1),()=>i.setPage(s)]}class cr extends ct{constructor(t){super(),at(this,t,ar,dr,s,{builder:0})}}function ur(e){let n,r,o,i,s,l,d;return{c(){n=y("div"),r=y("h3"),o=E("Error: "),i=E(e[0]),s=_(),l=y("p"),d=E(e[1]),x(r,"class","subtitle"),x(n,"class","wrapper svelte-rfcc3f")},m(t,e){m(t,n,e),p(n,r),p(r,o),p(r,i),p(n,s),p(n,l),p(l,d)},p(t,[e]){1&e&&O(i,t[0]),2&e&&O(d,t[1])},i:t,o:t,d(t){t&&v(n)}}}function gr(t,e,n){let{code:r}=e,{message:o}=e;return t.$$set=t=>{"code"in t&&n(0,r=t.code),"message"in t&&n(1,o=t.message)},[r,o]}class pr extends ct{constructor(t){super(),at(this,t,gr,ur,s,{code:0,message:1})}}function fr(t,e,n){const r=t.slice();return r[18]=e[n],r[19]=e,r[20]=n,r}function hr(t,e,n){const r=t.slice();return r[21]=e[n],r}function mr(t,e,n){const r=t.slice();return r[21]=e[n],r[20]=n,r}function vr(t,e,n){const r=t.slice();return r[21]=e[n],r[25]=e,r[26]=n,r}function br(e){let n,r,o;return{c(){n=y("button"),n.innerHTML='<p>Options</p> \n\t\t\t<svg class="shgrid-pkg_options-btn-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Options</title><path d="M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.21,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.21,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.67 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z"></path></svg>',x(n,"class","shgrid-pkg_options-btn")},m(t,i){m(t,n,i),r||(o=D(n,"click",e[10]),r=!0)},p:t,d(t){t&&v(n),r=!1,o()}}}function yr(t){let e,n;return e=new or({props:{builder:t[0],rerender:t[7]}}),{c(){it(e.$$.fragment)},m(t,r){st(e,t,r),n=!0},p(t,n){const r={};1&n&&(r.builder=t[0]),e.$set(r)},i(t){n||(et(e.$$.fragment,t),n=!0)},o(t){nt(e.$$.fragment,t),n=!1},d(t){lt(e,t)}}}function wr(t){let e,n,r,o,i;return{c(){e=y("th"),n=y("label"),r=y("input"),x(r,"type","checkbox"),r.checked=t[3],x(r,"class","shgrid-pkg_selection-checkbox shgrid-pkg_checkbox"),T(r,"vertical-align","bottom"),x(n,"class","shgrid-pkg_th-label"),T(n,"padding","0")},m(s,l){m(s,e,l),p(e,n),p(n,r),o||(i=D(r,"change",t[11]),o=!0)},p(t,e){8&e&&(r.checked=t[3])},d(t){t&&v(e),o=!1,i()}}}function Er(t){let e;return{c(){e=y("th")},m(t,n){m(t,e,n)},d(t){t&&v(e)}}}function _r(t){let e,n,r,o;function i(t,e){return t[0].sorters?.[0]?.[0]===t[21].id?Dr:$r}let s=i(t),l=s(t);function d(){return t[12](t[21])}return{c(){e=y("button"),n=w("svg"),l.c(),x(n,"class","shgrid-pkg_th-svg"),x(n,"xmlns","http://www.w3.org/2000/svg"),x(n,"viewBox","0 0 24 24"),x(e,"class","shgrid-pkg_th-btn-hidden")},m(t,i){m(t,e,i),p(e,n),l.m(n,null),r||(o=D(e,"click",d),r=!0)},p(e,r){s===(s=i(t=e))&&l?l.p(t,r):(l.d(1),l=s(t),l&&(l.c(),l.m(n,null)))},d(t){t&&v(e),l.d(),r=!1,o()}}}function $r(e){let n,r,o;return{c(){n=w("title"),r=E("sort"),o=w("path"),x(o,"d","M18 21L14 17H17V7H14L18 3L22 7H19V17H22M2 19V17H12V19M2 13V11H9V13M2 7V5H6V7H2Z")},m(t,e){m(t,n,e),p(n,r),m(t,o,e)},p:t,d(t){t&&v(n),t&&v(o)}}}function Dr(t){let e;function n(t,e){return"desc"===t[0].sorters?.[0]?.[1]?Or:xr}let r=n(t),o=r(t);return{c(){o.c(),e=$()},m(t,n){o.m(t,n),m(t,e,n)},p(t,i){r!==(r=n(t))&&(o.d(1),o=r(t),o&&(o.c(),o.m(e.parentNode,e)))},d(t){o.d(t),t&&v(e)}}}function xr(t){let e,n,r;return{c(){e=w("title"),n=E("sort-alphabetical-ascending"),r=w("path"),x(r,"d","M19 17H22L18 21L14 17H17V3H19M11 13V15L7.67 19H11V21H5V19L8.33 15H5V13M9 3H7C5.9 3 5 3.9 5 5V11H7V9H9V11H11V5C11 3.9 10.11 3 9 3M9 7H7V5H9Z")},m(t,o){m(t,e,o),p(e,n),m(t,r,o)},d(t){t&&v(e),t&&v(r)}}}function Or(t){let e,n,r;return{c(){e=w("title"),n=E("sort-alphabetical-descending"),r=w("path"),x(r,"d","M19 7H22L18 3L14 7H17V21H19M11 13V15L7.67 19H11V21H5V19L8.33 15H5V13M9 3H7C5.9 3 5 3.9 5 5V11H7V9H9V11H11V5C11 3.9 10.11 3 9 3M9 7H7V5H9Z")},m(t,o){m(t,e,o),p(e,n),m(t,r,o)},d(t){t&&v(e),t&&v(r)}}}function Tr(t){let e,n,r;function o(...e){return t[13](t[21],t[25],t[26],...e)}return{c(){e=y("input"),x(e,"class","shgrid-pkg_th-input"),x(e,"type","text")},m(t,i){m(t,e,i),n||(r=D(e,"input",o),n=!0)},p(e,n){t=e},d(t){t&&v(e),n=!1,r()}}}function kr(t){let e,n,r,o,i,s,l,d,a=t[21].label+"",c=0!=t[21]?.sortable&&_r(t),u=0!=t[21]?.searchable&&Tr(t);return{c(){e=y("th"),n=y("label"),r=y("div"),o=y("p"),i=E(a),s=_(),c&&c.c(),l=_(),u&&u.c(),d=_(),x(o,"class","shgrid-pkg_th"),x(r,"class","shgrid-pkg_th-label-top"),L(r,"shgrid-pkg_th-label-top-sortable",!1!==t[21]?.sortable),x(n,"class","shgrid-pkg_th-label")},m(t,a){m(t,e,a),p(e,n),p(n,r),p(r,o),p(o,i),p(r,s),c&&c.m(r,null),p(n,l),u&&u.m(n,null),p(e,d)},p(t,e){64&e&&a!==(a=t[21].label+"")&&O(i,a),0!=t[21]?.sortable?c?c.p(t,e):(c=_r(t),c.c(),c.m(r,null)):c&&(c.d(1),c=null),64&e&&L(r,"shgrid-pkg_th-label-top-sortable",!1!==t[21]?.sortable),0!=t[21]?.searchable?u?u.p(t,e):(u=Tr(t),u.c(),u.m(n,null)):u&&(u.d(1),u=null)},d(t){t&&v(e),c&&c.d(),u&&u.d()}}}function Lr(e){let n,r=e[5],o=[];for(let t=0;t<r.length;t+=1)o[t]=Br(fr(e,r,t));return{c(){for(let t=0;t<o.length;t+=1)o[t].c();n=$()},m(t,e){for(let n=0;n<o.length;n+=1)o[n]&&o[n].m(t,e);m(t,n,e)},p(t,e){if(749&e){let i;for(r=t[5],i=0;i<r.length;i+=1){const s=fr(t,r,i);o[i]?o[i].p(s,e):(o[i]=Br(s),o[i].c(),o[i].m(n.parentNode,n))}for(;i<o.length;i+=1)o[i].d(1);o.length=r.length}},i:t,o:t,d(t){b(o,t),t&&v(n)}}}function Hr(t){let e,n,r,o;return r=new pr({props:{message:t[0].error.message,code:t[0].error.code}}),{c(){e=y("tr"),n=y("td"),it(r.$$.fragment),x(n,"colspan","999")},m(t,i){m(t,e,i),p(e,n),st(r,n,null),o=!0},p(t,e){const n={};1&e&&(n.message=t[0].error.message),1&e&&(n.code=t[0].error.code),r.$set(n)},i(t){o||(et(r.$$.fragment,t),o=!0)},o(t){nt(r.$$.fragment,t),o=!1},d(t){t&&v(e),lt(r)}}}function Ar(e){let n,r,o,i;return o=new gt({}),{c(){n=y("tr"),r=y("td"),it(o.$$.fragment),x(r,"colspan","999")},m(t,e){m(t,n,e),p(n,r),st(o,r,null),i=!0},p:t,i(t){i||(et(o.$$.fragment,t),i=!0)},o(t){nt(o.$$.fragment,t),i=!1},d(t){t&&v(n),lt(o)}}}function Mr(t){let e,n,r,o,i;function s(){return t[14](t[18])}return{c(){e=y("td"),n=y("input"),x(n,"type","checkbox"),n.checked=r=t[18].isSelected,x(n,"class","shgrid-pkg_selection-checkbox shgrid-pkg_checkbox"),x(e,"class","shgrid-pkg_td shgrid-pkg_selection-td")},m(t,r){m(t,e,r),p(e,n),o||(i=D(n,"input",s),o=!0)},p(e,o){t=e,32&o&&r!==(r=t[18].isSelected)&&(n.checked=r)},d(t){t&&v(e),o=!1,i()}}}function Cr(t){let e,n,r,o;function i(t,e){return t[18].isOpen?Vr:Sr}let s=i(t),l=s(t);function d(){return t[15](t[18],t[19],t[20])}return{c(){e=y("td"),n=y("button"),l.c(),x(n,"class","shgrid-pkg_expand-btn"),x(e,"class","shgrid-pkg_td")},m(t,i){m(t,e,i),p(e,n),l.m(n,null),r||(o=D(n,"click",d),r=!0)},p(e,r){s!==(s=i(t=e))&&(l.d(1),l=s(t),l&&(l.c(),l.m(n,null)))},d(t){t&&v(e),l.d(),r=!1,o()}}}function Sr(t){let e,n,r,o;return{c(){e=w("svg"),n=w("title"),r=E("Expand"),o=w("path"),x(o,"d","M10,21V19H6.41L10.91,14.5L9.5,13.09L5,17.59V14H3V21H10M14.5,10.91L19,6.41V10H21V3H14V5H17.59L13.09,9.5L14.5,10.91Z"),x(e,"class","shgrid-pkg_expand-btn-svg"),x(e,"xmlns","http://www.w3.org/2000/svg"),x(e,"viewBox","0 0 24 24")},m(t,i){m(t,e,i),p(e,n),p(n,r),p(e,o)},d(t){t&&v(e)}}}function Vr(t){let e,n,r,o;return{c(){e=w("svg"),n=w("title"),r=E("Shrink"),o=w("path"),x(o,"d","M19.5,3.09L15,7.59V4H13V11H20V9H16.41L20.91,4.5L19.5,3.09M4,13V15H7.59L3.09,19.5L4.5,20.91L9,16.41V20H11V13H4Z"),x(e,"class","shgrid-pkg_expand-btn-svg"),x(e,"xmlns","http://www.w3.org/2000/svg"),x(e,"viewBox","0 0 24 24")},m(t,i){m(t,e,i),p(e,n),p(n,r),p(e,o)},d(t){t&&v(e)}}}function Nr(t){let e,n,r=t[0].formatCell(t[18].data,t[21].id.toString())+"";function o(){return t[16](t[21],t[18])}return{c(){e=y("a"),x(e,"href",n=o()),x(e,"class","shgrid-pkg_td-link"),L(e,"shgrid-pkg_hover-highlight-row",void 0===t[21].link),L(e,"shgrid-pkg_hover-highlight-cell",void 0!==t[21].link),L(e,"shgrid-pkg_selected-a",t[0].selected?.has(t[18].data.id))},m(t,n){m(t,e,n),e.innerHTML=r},p(i,s){t=i,97&s&&r!==(r=t[0].formatCell(t[18].data,t[21].id.toString())+"")&&(e.innerHTML=r),97&s&&n!==(n=o())&&x(e,"href",n),64&s&&L(e,"shgrid-pkg_hover-highlight-row",void 0===t[21].link),64&s&&L(e,"shgrid-pkg_hover-highlight-cell",void 0!==t[21].link),33&s&&L(e,"shgrid-pkg_selected-a",t[0].selected?.has(t[18].data.id))},d(t){t&&v(e)}}}function Rr(t){let e,n=t[0].formatCell(t[18].data,t[21].id.toString())+"";return{c(){e=y("div")},m(t,r){m(t,e,r),e.innerHTML=n},p(t,r){97&r&&n!==(n=t[0].formatCell(t[18].data,t[21].id.toString())+"")&&(e.innerHTML=n)},d(t){t&&v(e)}}}function Ir(t){let e,n,r,o;function i(t,e){return void 0===t[0].rowLink&&void 0===t[21].link?Rr:Nr}let s=i(t),l=s(t);function d(...e){return t[17](t[18],t[21],...e)}return{c(){e=y("td"),l.c(),n=_(),x(e,"class","shgrid-pkg_td")},m(t,i){m(t,e,i),l.m(e,null),p(e,n),r||(o=D(e,"click",d),r=!0)},p(r,o){s===(s=i(t=r))&&l?l.p(t,o):(l.d(1),l=s(t),l&&(l.c(),l.m(e,n)))},d(t){t&&v(e),l.d(),r=!1,o()}}}function Pr(t){let e,n,r,o,i=t[0].columns,s=[];for(let e=0;e<i.length;e+=1)s[e]=Fr(hr(t,i,e));return{c(){e=y("tr"),n=y("td"),r=y("div");for(let t=0;t<s.length;t+=1)s[t].c();o=_(),x(r,"class","shgrid-pkg_expanded-wrapper"),x(n,"colspan","999"),x(n,"class","shgrid-pkg_expanded"),x(e,"class","shgrid-pkg_expanded"),L(e,"shgrid-pkg_odd-darker",t[20]%2-1)},m(t,i){m(t,e,i),p(e,n),p(n,r);for(let t=0;t<s.length;t+=1)s[t]&&s[t].m(r,null);p(e,o)},p(t,e){if(1&e){let n;for(i=t[0].columns,n=0;n<i.length;n+=1){const o=hr(t,i,n);s[n]?s[n].p(o,e):(s[n]=Fr(o),s[n].c(),s[n].m(r,null))}for(;n<s.length;n+=1)s[n].d(1);s.length=i.length}},d(t){t&&v(e),b(s,t)}}}function Fr(t){let e,n,r,o,i,s,l,d,a=t[21].label+"",c=JSON.stringify(t[0].data[t[20]][t[21].id])+"";return{c(){e=y("div"),n=y("p"),r=E(a),o=E(":"),i=_(),s=y("p"),l=E(c),d=_(),x(e,"class","shgrid-pkg_expanded-row")},m(t,a){m(t,e,a),p(e,n),p(n,r),p(n,o),p(e,i),p(e,s),p(s,l),p(e,d)},p(t,e){1&e&&a!==(a=t[21].label+"")&&O(r,a),1&e&&c!==(c=JSON.stringify(t[0].data[t[20]][t[21].id])+"")&&O(l,c)},d(t){t&&v(e)}}}function Br(t){let e,n,r,o,i,s=void 0!==t[0].selected&&Mr(t),l=t[2]&&Cr(t),d=t[6],a=[];for(let e=0;e<d.length;e+=1)a[e]=Ir(mr(t,d,e));let c=t[18].isOpen&&Pr(t);return{c(){e=y("tr"),s&&s.c(),n=_(),l&&l.c(),r=_();for(let t=0;t<a.length;t+=1)a[t].c();o=_(),c&&c.c(),i=$(),x(e,"class","shgrid-pkg_body-tr"),L(e,"shgrid-pkg_odd-darker",t[20]%2-1),L(e,"shgrid-pkg_selected-tr",t[0].selected?.has(t[18].data.id))},m(t,d){m(t,e,d),s&&s.m(e,null),p(e,n),l&&l.m(e,null),p(e,r);for(let t=0;t<a.length;t+=1)a[t]&&a[t].m(e,null);m(t,o,d),c&&c.m(t,d),m(t,i,d)},p(t,o){if(void 0!==t[0].selected?s?s.p(t,o):(s=Mr(t),s.c(),s.m(e,n)):s&&(s.d(1),s=null),t[2]?l?l.p(t,o):(l=Cr(t),l.c(),l.m(e,r)):l&&(l.d(1),l=null),609&o){let n;for(d=t[6],n=0;n<d.length;n+=1){const r=mr(t,d,n);a[n]?a[n].p(r,o):(a[n]=Ir(r),a[n].c(),a[n].m(e,null))}for(;n<a.length;n+=1)a[n].d(1);a.length=d.length}33&o&&L(e,"shgrid-pkg_selected-tr",t[0].selected?.has(t[18].data.id)),t[18].isOpen?c?c.p(t,o):(c=Pr(t),c.c(),c.m(i.parentNode,i)):c&&(c.d(1),c=null)},d(t){t&&v(e),s&&s.d(),l&&l.d(),b(a,t),t&&v(o),c&&c.d(t),t&&v(i)}}}function zr(t){let e,n,r,o,i,s,l,d,a,c,u,g,f,h,w,E,$=t[1]&&br(t),D=t[4]&&yr(t),O=void 0!==t[0].selected&&wr(t),T=t[2]&&Er(),k=t[6],L=[];for(let e=0;e<k.length;e+=1)L[e]=kr(vr(t,k,e));const H=[Ar,Hr,Lr],A=[];function M(t,e){return t[0].loading?0:null!==t[0].error?1:2}return g=M(t),f=A[g]=H[g](t),w=new cr({props:{builder:t[0]}}),{c(){e=y("div"),$&&$.c(),n=_(),r=y("div"),D&&D.c(),o=_(),i=y("table"),s=y("thead"),l=y("tr"),O&&O.c(),d=_(),T&&T.c(),a=_();for(let t=0;t<L.length;t+=1)L[t].c();c=_(),u=y("tbody"),f.c(),h=_(),it(w.$$.fragment),x(i,"class","shgrid-pkg_table"),x(e,"class","shgrid-wrapper")},m(t,f){m(t,e,f),$&&$.m(e,null),p(e,n),p(e,r),D&&D.m(r,null),p(r,o),p(r,i),p(i,s),p(s,l),O&&O.m(l,null),p(l,d),T&&T.m(l,null),p(l,a);for(let t=0;t<L.length;t+=1)L[t]&&L[t].m(l,null);p(i,c),p(i,u),A[g].m(u,null),p(e,h),st(w,e,null),E=!0},p(t,[i]){if(t[1]?$?$.p(t,i):($=br(t),$.c(),$.m(e,n)):$&&($.d(1),$=null),t[4]?D?(D.p(t,i),16&i&&et(D,1)):(D=yr(t),D.c(),et(D,1),D.m(r,o)):D&&(Q(),nt(D,1,1,(()=>{D=null})),tt()),void 0!==t[0].selected?O?O.p(t,i):(O=wr(t),O.c(),O.m(l,d)):O&&(O.d(1),O=null),t[2]?T||(T=Er(),T.c(),T.m(l,a)):T&&(T.d(1),T=null),65&i){let e;for(k=t[6],e=0;e<k.length;e+=1){const n=vr(t,k,e);L[e]?L[e].p(n,i):(L[e]=kr(n),L[e].c(),L[e].m(l,null))}for(;e<L.length;e+=1)L[e].d(1);L.length=k.length}let s=g;g=M(t),g===s?A[g].p(t,i):(Q(),nt(A[s],1,1,(()=>{A[s]=null})),tt(),f=A[g],f?f.p(t,i):(f=A[g]=H[g](t),f.c()),et(f,1),f.m(u,null));const c={};1&i&&(c.builder=t[0]),w.$set(c)},i(t){E||(et(D),et(f),et(w.$$.fragment,t),E=!0)},o(t){nt(D),nt(f),nt(w.$$.fragment,t),E=!1},d(t){t&&v(e),$&&$.d(),D&&D.d(),O&&O.d(),T&&T.d(),b(L,t),A[g].d(),lt(w)}}}function Gr(t,e,n){let r,o,{hasOptions:i=!0}=e,{canExpandRows:s=!0}=e,{builder:l}=e,d=()=>{n(0,l)};l.setListener(d);let a=!1;const c=()=>{a?(o.forEach((t=>{t.isSelected&&l.selected?.delete(t.data.id,t.data)})),n(3,a=!1)):(o.forEach((t=>{t.isSelected=!0,l.selected?.set(t.data.id,t.data)})),n(3,a=!0)),n(5,o),n(0,l)};var u;u=()=>{l.buildDataOnLoad||l.buildData()},I().$$.on_mount.push(u);let g=!1;const p=P();return t.$$set=t=>{"hasOptions"in t&&n(1,i=t.hasOptions),"canExpandRows"in t&&n(2,s=t.canExpandRows),"builder"in t&&n(0,l=t.builder)},t.$$.update=()=>{1&t.$$.dirty&&n(6,r=l.columns.filter((t=>!t.hidden))),1&t.$$.dirty&&n(5,o=l.data.map((t=>({data:t,isOpen:!1,isSelected:void 0!==l.selected&&l.selected.has(t.id)}))))},[l,i,s,a,g,o,r,d,c,p,()=>n(4,g=!g),t=>c(),t=>l.sortColumn(t.id.toString()),(t,e,o,i)=>{n(6,e[o].filter=i.currentTarget.value,r),l.setPage(0),l.buildData()},t=>{t.isSelected?(l.selected?.delete(t.data.id),n(3,a=!1)):l.selected?.set(t.data.id,t.data),console.log(l.selected),p("updatedSelection",l.selected),d()},(t,e,r)=>n(5,e[r].isOpen=!t.isOpen,o),(t,e)=>void 0!==t.link?t.link(e.data):void 0!==l.rowLink?l.rowLink(e.data):void 0,(t,e,n)=>p("cellClick",{e:n,row:t,column:e})]}class jr extends ct{constructor(t){super(),at(this,t,Gr,zr,s,{hasOptions:1,canExpandRows:2,builder:0})}}export{jr as default};
//# sourceMappingURL=shgrid.js.map
